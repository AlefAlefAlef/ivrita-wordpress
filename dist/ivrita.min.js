!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Ivrita=e():t.Ivrita=e()}(self,(function(){return(()=>{"use strict";var t={662:(t,e,n)=>{n.d(e,{default:()=>at});var r={ן:"נ",ף:"פ",ך:"כ",ם:"מ",ץ:"צ"},o=Object.keys(r).concat(Object.values(r)),i=Object.keys(r),u=function(t){return Object.keys(r).find((function(e){return r[e]===t}))||t},a=function(t){return r[t]||t},c="[\\\\/.]",s="[\\\\./—־-]",f="'‎\"”׳״",l="[א-ת"+f+"]",y="["+i+"]",d="^|$|\b|[^א-ת֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ]",h="(?="+d+")",p="(?:"+d+")",b=[s,"\\[","\\{","\\(","םן","ןם","יםות","ותים"].join("|"),v=["(א|ס)ובי(י?)קטיב","אחמ(["+f+"]?)ש","ח(["+f+"])כ","מ(["+f+"])פ","מנכ(["+f+"]?)ל","מפא(["+f+"]?)יניק","משת(["+f+"]?)פ","עו(["+f+"])(ס|ד)","רו(["+f+"])ח","רשג(["+f+"]?)ד","א(י?)כפת","אביב","אח","אגרונומ","אדריכל","אוטיסט","אוסטר(ל?)","אופטימ","אחרא","אחיינ","איטלק","אינדיבידואליסט","אירונ","אירופא","אכזר","אלגנט","אלכוהוליסט","אלמונ","אמית","אמריק(א|נ)","אנאלפבית","אנגל","אנוש","אנטישמ","אנליסט","אנרכיסט","אסטרולוג","אסיאת","אפריק(נ|א)","אצנ","אקדמ(א?)","אקטואל","אקטיביסט","אקרא","ארטיסט","אשכנז","אתאיסט","אתיופ","בוגדנ","בולגר","בטחונ","ביביסט","ב(י?)דיונ","בינונ","בינלאומ","בל(א?)גניסט","בלוגר","בלונד","במא","ברב(א?)ר","ברונט","בריט","ברמנ","ג"+f+"ובניק","ג"+f+"ינג"+f,"גות","גיטריסט","גר(א?)פ","גרמנ","גרפיקא","דברנ","דוקטורנט","דושבג","דיאטנ","דינ(א?)מ","(י?)הוד","הי(פ?)סטר","היפ","הססנ","הנדסא","הרמונ","וטרינר","זכא","חבר(ו?)ת","חובבנ","חולמנ","חושנ","חילונ","חי(ו|נ)נ","חיפא","חמדנ","חרד","חרד(ת?)","חרמנ","חשמלא","טבח","טבעונ","טורק","טיפוגרפ","טכנא","טרוריסט","טרמפיסט","טרנס","ידידות","יוגיסט","יוונ","יורקר","יזמ","ימא","ימ(י?)נ","ירושלמ","ישראל","כימא","כלכלנ","כרונ","לבנונ","לוחמנ","ליברל","ליכודניק","מאסטר","מוזיק(ל|א)","מומח","מזוכיסט","מזרח","מחזא","מטאליסט","מטרידנ","מילואימניק","מיליארדר","מיליונר","מכונא","מלאכ","מלצר","מפסידנ","מצליחנ","מצפונ","מקצוע(נ?)","מרדנ","מרקסיסט","נגר","נובוריש","נודיסט","נודניק","נוצר","נורא","נורווג","נטורופת","נרקומנ","ס(א?)דיסט","ס(א?)ח","סדרנ","סהרור","סוליד(ר?)","סוציאליסט","סטודנט","סטרייט","סמכות","סנדלר","סנוב","ססגונ","ספונטנ","ספורטיב","ספציפ","ספרד","סקסולוג","סרב","סרטט","עירונ","עיתונא","עממ","עניינ","ענק","עסיס","עצמא","עקרונ","ערב","ערס","פאנקיסט","פדופיל","פוליטיקא","פולנ","פופול(א?)ר","פופוליסט","פחדנ","פטריוט","פילוסופ","פיזיוטרפיסט","פמיניסט","פסיכופת","פסיכולוג","פסיכיאטר","פסנתרנ","פציפיסט","פריק","פרופסור","פרזנטור","פריל(א?)נסר","פרסומא","פקח","פשיסט","צבע","צבעונ","צי(ו?)נ","ציבור","ציפלונ","צמחונ","צפונ","צרפת","קדמונ","קוויר","קומוניסט","קומיק(ס?)א","קונדיטור","קוסמטיקא","קופא","קוקסינל","קטלנ","קטנונ","קיבוצניק","קיצונ","קלאס","קלדנ","קלפטומנ","קניינ","קפדנ","קפיטליסט","קריקטוריסט","קצב","רבנ","רוחנ","רוס","רוקיסט","רמא","רפד","רקדנ","ש(ו?)ויונ","שאפתנ","שוביניסט","שווד","שוויצר","שחיינ","שחקנ","שלומיאל","שמאלנ","שמנמנ","שמרנ","שפ","שק(ר|ד)נ","שרמנט","תורכ","תזונא","תחמנ","תסריטא","תצפיתנ","תקציבא","תרבות"];function m(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g=function(t,e){return[t,e,e,e]},E=function(t,e){var n=t.slice(0,t.length-1),r=t.slice(t.length-1),i="("+r+")";o.includes(r)&&(i="("+u(r)+"|"+a(r)+")");var s=n+(e?"י":"")+a(r),f=""+n+u(r);return[[""+n+i+c+"י"+c+"ו"+h,f,s+"י",s+"ו"],[""+n+i+c+"י"+h,f,s+"י"]]};const O=[].concat(m([["א"+s+"נשים","אנשים","נשים"],["א"+s+"נש(?:ות|י)"+h,"אנשי","נשות"],["את[\\\\/.]ה","אתה","את"],["איש[\\\\/.](?:אש)?ת","איש","אשת"],["אשת[\\\\/.]איש","איש","אשת"],["(גבר|איש)[\\\\/.]אישה","$1","אישה"],["אחי[\\\\/.]ותי"+h,"אחי","אחותי"],["אח[\\\\/.]ות"+h,"אח","אחות"],["ל(ו|ה)[\\\\/.]ל(ו|ה)"+h,"לו","לה"],["ב(ן|ת)[\\\\/.]ב(ן|ת)"+h,"בן","בת"],["ה(ו|י)א[\\\\/.]ה(ו|י)א"+h,"הוא","היא"],["אנשי[\\\\/.]ות"+h,"אנשי","נשות"],["מישהו[\\\\/.]י"+h,"מישהו","מישהי"],["אחד[\\\\/.](אח)?ת"+h,"אחד","אחת"],["אחת[\\\\/.](אח)?ד"+h,"אחד","אחת"],["יקיר(י?)[\\\\/.]תי"+h,"יקירי","יקירתי"],["אהוב(י?)[\\\\/.]תי"+h,"אהובי","אהובתי"],["סב\\(ת\\)א","סבא","סבתא"],["זה[\\\\/.]זאת"+h,"זה","זאת"],["זאת[\\\\/.]זה"+h,"זה","זאת"],["זה[\\\\/.]ז?ו"+h,"זה","זו"],["זו[\\\\/.]ז?ה"+h,"זה","זו"],["נשוי[\\\\/.]א?ה"+h,"נשוי","נשואה"],["חשוב[\\\\/.]י"+h,"חשוב","חשבי"],["חשוב[\\\\/.]י[\\\\/.]ו"+h,"חשוב","חשבי","חשבו"]]),m(["האר","הבא","הגב","הדגם","הדלק","הוסף","הואל","הורד","הזמן","הזן","הכנס","הלבש","המלץ","המשך","הסר","הסתר","הפעל","הפקד","הצג","הקלד","הקלק","הקש","הקשב","הרגש","הרם","הרעף","השב","השלם","השתק","התמד","התקן","העתק","הדבק"].reduce((function(t,e){return t.concat(E(e,!0))}),[])),m(["קום","רוץ","עופ","שוב","זוז","טוס","שוט","בוא"].reduce((function(t,e){return t.concat(E(e,!1))}),[])),m(v.map((function(t){var e=t;return t.includes("(")&&(e=t.replace(new RegExp("\\(.*?\\)"),"$2")),["(^|$|\b|[^א-ת֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ])"+t+"ים"+c+"י?ות"+h,"$1"+e+"ים","$1"+e+"יות"]}))),[["("+p+l+"{0,3})י"+c+"ת("+l+"{2,})","$1י$2","$1ת$2"],["("+p+l+"{0,3})ת"+c+"י("+l+"{2,})","$1י$2","$1ת$2"],["ו[\\\\/.]ה"+h,"ו","ה"],["ה[\\\\/.]ו"+h,"ו","ה"],["("+l+")"+c+"ה"+h,"$1׈","$1׉ה"]],m(i.map((function(t){return["("+l+")"+t+c+a(t)+"ה"+h,"$1"+t+"׈","$1"+a(t)+"׉ה"]}))),[["("+l+")ה?"+c+"תה"+h,"$1ה","$1תה"],["("+l+")יו"+c+"י?ה"+h,"$1יו","$1יה"],["("+l+")ה"+c+"ית"+h,"$1ה","$1ית"],["("+l+")(ו?)י"+c+"ות"+h,"$1$2י","$1ות"],["("+l+")ות"+c+"י"+h,"$1י","$1ות"],["("+l+")"+c+"ית"+h,"$1׈","$1׉ית"],["("+l+")י"+c+"תי"+h,"$1י","$1תי"],["("+l+"{4,})אים"+c+"י?ות"+h,"$1אים","$1איות"],["("+l+")ווים"+c+"?ות"+h,"$1ווים","$1וות"],["("+l+")וות"+c+"ים"+h,"$1ווים","$1וות"],["("+l+")(י)?ים"+c+"?(י)?ות"+h,"$1$2ים","$1$2$3ות"],["("+l+")(י)?ות"+c+"י?ים"+h,"$1$2ים","$1$2ות"],["("+l+")י"+c+"ות"+h,"$1י","$1ות"],["("+l+")ה"+c+"י"+c+"ו"+h,"$1ה","$1י","$1ו"],["("+l+")ה"+c+"י"+h,"$1ה","$1י"],["("+l+")י"+c+"ה"+c+"ו"+h,"$1ה","$1י","$1ו"],["("+l+")י"+c+"ה"+h,"$1ה","$1י"],["("+l+"+)\\(י\\)("+l+")"+c+"י"+c+"ו"+h,"$1$2","$1י$2י","$1י$2ו"],["("+l+"+)\\(י\\)("+l+")"+c+"י"+h,"$1$2","$1י$2י"],["([א-ת])ו(ו?)("+l+")"+c+"י"+c+"ו"+h,"$1$2ו$3׈","$1$2$2$3׉י","$1$2$3׉ו"],["([א-ת])ו(ו?)("+l+")"+c+"י"+h,"$1$2ו$3׈","$1$2$2$3׉י"],["("+l+")"+c+"י"+c+"ו"+h,"$1׈","$1׉י","$1׉ו"],["("+l+")"+c+"י"+h,"$1׈","$1׉י"],["("+l+")(ה)?"+c+"ת"+h,"$1$2׈","$1׉ת"],["("+l+")ם"+c+"?ן"+h,"$1ם","$1ן"],["("+l+")ן"+c+"?ם"+h,"$1ם","$1ן"],["ה("+l+"+)י("+l+")ו"+c+"נה"+h,"ה$1י$2ו","ה$1$2נה"],["("+l+"+)ו"+c+"ת("+l+"+)נה"+h,"$1ו","ת$2נה"],["ת("+l+"+)ו"+c+"נה"+h,"ת$1ו","ת$1נה"],["("+l+"+)ו"+c+"נה"+h,"$1ו","$1נה"],["("+l+"+)\\(([ותי]{1,3})\\)([יוהםן]{1,3})"+h,"$1$3","$1$2$3"],["("+l+"+)י\\(י\\)("+l+"*)("+y+")"+h,"$1י$2$3","$1יי$2$3"],["("+l+"+)\\(י\\)י("+l+"*)("+y+")"+h,"$1י$2$3","$1יי$2$3"],["\\(א\\)נשים"+h,"אנשים","נשים"],["("+l+"+)ב\\(ת\\)"+h,"$1ב","$1בת"],["("+l+"+)(ך|כ)\\(([םן.\\/]{1,3})\\)"+h,"$1ך","$1ך","$1כ$3"],["\\[([^|]*?)\\|([^|]*?)\\|([^|]*?)\\]","$1","$2","$3"],["\\[([^|]*?)\\|([^|]*?)\\]","$1","$2",!0],g("ץ׉","צ"),g("ך׉","כ"),g("ן׉","נ"),g("ם׉","מ"),g("ף׉","פ"),g("([^'‎\"”׳״]+)צ׈","$1ץ"),g("([^'‎\"”׳״]+)כ׈","$1ך"),g("([^'‎\"”׳״]+)נ׈","$1ן"),g("([^'‎\"”׳״]+)מ׈","$1ם"),g("([^'‎\"”׳״]+)פ׈","$1ף"),g("[׈׉]","")]).map((function(t){return t[0]=new RegExp(t[0],"g"),!0===t[3]&&(t[3]=t[1]+"/"+t[2]),t}));function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var T="__IVRITA_PROTECTED__",j=new RegExp("\\{"+T+":(\\d+):"+T+"\\}","g"),S=[0,1,2,3],A=function(t,e,n){var r=t,o=[];r.includes("{")&&(r=r.replace(/\{(.*?)\}/g,(function(t,e,n){return o[n]=e,"{"+T+":"+n+":"+T+"}"})));var i=t,u=[];return O.forEach((function(t){var o,a=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,4),c=a[0],s=a[1],f=a[2],l=a[3];switch(e){case 2:o=f;break;case 1:o=s;break;case 3:default:void 0!==l&&(o=l)}void 0!==o&&(r=r.replace(c,o)),"function"==typeof n&&i!==r&&(u.push(c),i=r)})),o.length&&(r=r.replace(j,(function(t,e){var n=parseInt(e,10);return o[n]?o[n]:""}))),"function"==typeof n&&n(u),r};function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var N=new Error("Incompatible node passed to the node constructor"),x=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalText="",this.currentMode=!1,this.storedValues={},t.instances.has(e))return t.instances.get(e);t.instances.set(e,this)}var e,n;return e=t,(n=[{key:"init",value:function(){this.originalText=this.getValue()}},{key:"setMode",value:function(t){var e;this.currentMode=t,(e=void 0!==this.storedValues[t]?this.storedValues[t]:0===t?this.originalText:A(this.originalText,t))!==this.getValue()&&this.setValue(e)}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t){this.value=t}}])&&_(e.prototype,n),t}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}x.instances=new WeakMap;var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(r);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return P(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!t)return P(e,!1);if(!(t instanceof Attr))throw N;return(e=i.call(this,t)).attr={},e.attr=t,e.currentMode||e.init(),e}return e=u,(n=[{key:"getValue",value:function(){return this.attr.value}},{key:"setValue",value:function(t){this.attr.value=t}}])&&R(e.prototype,n),u}(x);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U="ivritaMale",X="ivritaFemale",Q="ivritaNeutral",W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=G(r);if(o){var n=G(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return H(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!t)return H(e,!1);if(!(t instanceof Element))throw N;return(e=i.call(this,t)).element={},e.element=t,e.currentMode||e.init(),e}return e=u,(n=[{key:"init",value:function(){L(G(u.prototype),"init",this).call(this),this.element.dataset[U]&&(this.storedValues[1]=this.element.dataset[U]),this.element.dataset[X]&&(this.storedValues[2]=this.element.dataset[X]),this.element.dataset[Q]&&(this.storedValues[3]=this.element.dataset[Q])}},{key:"getValue",value:function(){return this.element.innerHTML}},{key:"setValue",value:function(t){this.element.innerHTML=t}}])&&D(e.prototype,n),u}(x);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(r);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return K(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!t)return K(e,!1);if(!(t instanceof Text))throw N;return(e=i.call(this,t)).node={},e.node=t,e.currentMode||e.init(),e}return e=u,(n=[{key:"getValue",value:function(){return this.node.data}},{key:"setValue",value:function(t){this.node.data=t}}])&&q(e.prototype,n),u}(x);function Z(t,e){if(t){if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rt,ot=new RegExp("[א-ת]"),it=new RegExp(b),ut=S.length,at=function(){function t(e,n){var r,o=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=new Set,this.elements=[],this.mode=void 0,this.fontFeatureSettings=void 0,this.relavantAttributes=(et(r={"a, img, button, input":["title"]},"input:not([type="+["submit","button","checkbox","radio","hidden","image","range","reset","file"].join("]):not([type=")+"])",["placeholder"]),et(r,"input[type=submit], input[type=button], input[type=reset]",["value"]),r),void 0===e){this.elements=[document.body];var i=document.documentElement.querySelector("title");i&&this.elements.push(i)}else if(e instanceof Array&&e.filter((function(t){return t instanceof HTMLElement})))this.elements=e;else if(e instanceof NodeList)this.elements=Array.from(e);else if(e instanceof HTMLElement)this.elements=[e];else{if(!("function"==typeof jQuery&&e instanceof jQuery&&"function"==typeof e.toArray))throw new Error("Passed argument is not an HTMLElement.");this.elements=e.toArray()}if(1===this.elements.length&&this.constructor.instances.has(this.elements[0])){var u=this.constructor.instances.get(this.elements[0]);return u.registerTextObjects(this.elements[0]),u}this.observer=new MutationObserver(this.onElementChange.bind(this)),this.elements.forEach((function(t){o.observer.observe(t,{childList:!0,subtree:!0,characterData:!1}),o.constructor.instances.set(t,o),o.registerTextObjects(t)})),void 0!==n?this.setMode(n):this.constructor.defaultMode&&this.setMode(this.constructor.defaultMode)}var e,n,r;return e=t,r=[{key:"setDefaultMode",value:function(t){this.defaultMode=t}},{key:"setMode",value:function(t){this.instances.forEach((function(e){return e.setMode(t)}))}},{key:"acceptNodeFilter",value:function(t){if(x.instances.has(t))return NodeFilter.FILTER_ACCEPT;if(t.textContent.trim().length<=0)return NodeFilter.FILTER_REJECT;if(t.nodeType===Node.ELEMENT_NODE){if(t.dataset.ivritaDisable)return NodeFilter.FILTER_REJECT;if([U,X,Q].filter((function(e){return t.dataset[e]})).length)return NodeFilter.FILTER_ACCEPT}else if(t.nodeType===Node.TEXT_NODE&&ot.test(t.textContent)&&it.test(t.textContent))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}}],(n=[{key:"destroy",value:function(){var t=this;this.setMode(0),this.setFontFeatureSettings(!1),this.observer&&this.observer.disconnect(),this.nodes.clear(),this.elements.forEach((function(e){t.constructor.instances.delete(e)}))}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return this.constructor.GENDERS.includes(t)?((this.mode===ut&&t!==ut||this.mode!==ut&&t===ut)&&this.setFontFeatureSettings(t===ut),this.mode=t,this.nodes.forEach((function(e){return e.setMode(t===ut?3:t)})),this.dispatchModeChangedEvent(t),this):this}},{key:"genderize",value:function(t){return this.constructor.genderize(t,this.mode)}},{key:"dispatchModeChangedEvent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;this.elements.forEach((function(n){return n.dispatchEvent(new CustomEvent(t.constructor.EVENT_MODE_CHANGED,{bubbles:!0,detail:{mode:e,firingInstance:t}}))}))}},{key:"registerTextObjects",value:function(t){this.registerTextNodes(t),this.registerTextAttributes(t)}},{key:"registerTextNodes",value:function(t){for(var e,n=this,r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:function(t){return n.constructor.acceptNodeFilter(t)}});e=r.nextNode();){var o=void 0;e instanceof Text?o=new Y(e):e instanceof Element&&(o=new W(e)),this.nodes.add(o),this.mode&&o.setMode(this.mode)}}},{key:"registerTextAttributes",value:function(t){var e=this;Object.entries(this.relavantAttributes).forEach((function(n){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,e)||Z(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2),o=r[0],i=r[1];Array.from(t.querySelectorAll(o)).forEach((function(t){i.forEach((function(n){t.hasAttribute(n)&&e.nodes.add(new C(t.getAttributeNode(n)))}))}))}))}},{key:"onElementChange",value:function(t){var e=this;t.forEach((function(t){if("childList"===t.type){var n=Array.from(t.addedNodes),r=Array.from(t.removedNodes);n.length===r.length?r.forEach((function(t,e){if(t.nodeType===Node.TEXT_NODE){var r=n[e];if(Y.instances.has(t)&&r.nodeType===Node.TEXT_NODE){var o=Y.instances.get(t);o.node=r,Y.instances.set(r,o),Y.instances.delete(t)}}})):n.forEach((function(t){if(!function(t,e){do{if(t instanceof Element&&Element.prototype.matches.call(t,"[data-ivrita-disable]"))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}(t))if(t.nodeType===Node.TEXT_NODE&&e.constructor.acceptNodeFilter(t)===NodeFilter.FILTER_ACCEPT){var n=new Y(t);e.nodes.add(n),e.mode&&n.setMode(e.mode)}else t.childNodes.length>0&&e.registerTextNodes(t)}))}}))}},{key:"setFontFeatureSettings",value:function(t){return this.fontFeatureSettings=t,this.elements.forEach((function(e){var n=e.style.fontFeatureSettings.slice().replace("normal","");t?n.includes("titl")||(n&&(n+=", "),n+='"titl"'):n.includes("titl")&&(n=n.replace(/(, )?"?'?titl"?'?/,"")),n||(n="normal"),e.style.fontFeatureSettings=n})),this}}])&&nt(e.prototype,n),r&&nt(e,r),t}();at.EVENT_MODE_CHANGED="ivrita-mode-changed",at.ORIGINAL=0,at.MALE=1,at.FEMALE=2,at.NEUTRAL=3,at.MULTI=ut,at.GENDERS=[].concat(function(t){if(Array.isArray(t))return tt(t)}(rt=S)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(rt)||Z(rt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[ut]),at.instances=new Map,at.defaultMode=3,at.genderize=A,at.textObjects=x.instances,"function"==typeof jQuery&&(jQuery.fn.ivrita=function(t){return new at(this,t)})}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(662)})().default}));
//# sourceMappingURL=ivrita.min.js.map