{"version":3,"sources":["webpack://Ivrita/webpack/universalModuleDefinition","webpack://Ivrita/./src/utils/finals.js","webpack://Ivrita/./src/utils/characters.js","webpack://Ivrita/./src/wordlists.js","webpack://Ivrita/./src/rules.js","webpack://Ivrita/./src/ivrita.js","webpack://Ivrita/./src/textObject.js","webpack://Ivrita/./src/textAttribute.js","webpack://Ivrita/./src/textElement.js","webpack://Ivrita/./src/textNode.js","webpack://Ivrita/./src/element.js","webpack://Ivrita/webpack/bootstrap","webpack://Ivrita/webpack/startup","webpack://Ivrita/webpack/runtime/define property getters","webpack://Ivrita/webpack/runtime/hasOwnProperty shorthand"],"names":["root","factory","exports","module","define","amd","self","fins","finnables","Object","keys","concat","values","finals","toFin","notFin","find","key","toNotFin","fin","SEP","EXTSEP","G","W","FIN","b","B","NCB","SYNTAX","join","pluralsWithExtraYod","unisex","pattern","replacement","matchAndNormalizeVerb","word","addYod","wordWithoutLastLetter","slice","length","lastLetter","lastLetterMatcher","includes","femaleBase","male","reduce","r","map","targetWord","replace","RegExp","f","p","PROTECTED","protectedRegexp","GENDERS","genderize","originalText","gender","doneFunc","genderized","bracedStrings","matched","string","index","prev","used","rules","forEach","female","neutral","undefined","push","group","parsedIndex","parseInt","IncompatibleTypeError","Error","TextObject","node","currentMode","storedValues","instances","has","get","set","this","getValue","newMode","newVal","setValue","value","WeakMap","TextAttribute","attr","Attr","init","MALE_DATA_ATTR","FEMALE_DATA_ATTR","NEUTRAL_DATA_ATTR","TextElement","element","Element","dataset","innerHTML","TextNode","Text","data","hebrewRegex","ivritaSyntaxRegex","MULTI","IvritaElement","elem","mode","nodes","Set","elements","fontFeatureSettings","relavantAttributes","document","body","titleTag","documentElement","querySelector","Array","filter","el","HTMLElement","NodeList","from","jQuery","toArray","constructor","preExistingInstance","registerTextObjects","observer","MutationObserver","onElementChange","bind","observe","childList","subtree","characterData","setMode","defaultMode","instance","NodeFilter","FILTER_ACCEPT","textContent","trim","FILTER_REJECT","nodeType","Node","ELEMENT_NODE","ivritaDisable","TEXT_NODE","test","FILTER_SKIP","setFontFeatureSettings","disconnect","clear","dispatchModeChangedEvent","text","dispatchEvent","CustomEvent","EVENT_MODE_CHANGED","bubbles","detail","firingInstance","registerTextNodes","registerTextAttributes","currentNode","walk","createTreeWalker","SHOW_ELEMENT","SHOW_TEXT","acceptNode","acceptNodeFilter","nextNode","newNode","add","entries","selector","attributes","querySelectorAll","input","attrName","hasAttribute","getAttributeNode","mutationsList","mutation","type","added","addedNodes","removed","removedNodes","oldNode","i","nodeObj","delete","s","prototype","matches","call","parentElement","parentNode","closest","ivritaTextNode","childNodes","isActive","result","style","ORIGINAL","MALE","FEMALE","NEUTRAL","Map","textObjects","fn","ivrita","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","o","defineProperty","enumerable","obj","prop","hasOwnProperty"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAgB,OAAID,IAEpBD,EAAa,OAAIC,IARnB,CASGK,MAAM,WACT,M,gECTO,IAAMC,EAAO,CAClB,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KAGMC,EAAYC,OAAOC,KAAKH,GAAMI,OAAOF,OAAOG,OAAOL,IACnDM,EAASJ,OAAOC,KAAKH,GAErBO,EAAQ,SAACC,GAAD,OAAYN,OAAOC,KAAKH,GAAMS,MAAK,SAACC,GAAD,OAASV,EAAKU,KAASF,MAAWA,GAC7EG,EAAW,SAACC,GAAD,OAAUZ,EAAKY,IAAQA,GCXlCC,EAAM,WAENC,EAAS,cACTC,EAAI,UAEJC,EAAC,OAAUD,EAAV,IACDE,EAAG,IAAOX,EAAP,IAEVY,EAAI,gCACGC,EAAC,MAASD,EAAT,IAGDE,EAAG,MAASF,EAAT,IAEHG,EAAS,CAACP,EAAQ,MAAO,MAAO,MAAO,KAAM,KAAM,OAAQ,QAAQQ,KAAK,KCwExEC,EAAsB,CACjC,mBADiC,QAEzBR,EAFyB,aAG3BA,EAH2B,YAI3BA,EAJ2B,cAKzBA,EALyB,eAMzBA,EANyB,kBAOzBA,EAPyB,cAQ1BA,EAR0B,iBAS1BA,EAT0B,cAUzBA,EAVyB,OAWjC,WACA,OACA,KACA,UACA,SACA,SACA,YACA,SACA,OACA,QACA,QACA,iBACA,QACA,SACA,OACA,QACA,aACA,QACA,OACA,aACA,WACA,OACA,OACA,SACA,SACA,UACA,WACA,QACA,aACA,MACA,WACA,SACA,WACA,OACA,SACA,QACA,SACA,QACA,QACA,QACA,QACA,SACA,YACA,QACA,UACA,cACA,QACA,QACA,MACA,WACA,QACA,OACA,OA/DiC,IAgE7BA,EAhE6B,YAiE7BA,EAjE6B,MAiEtBA,EACX,MACA,UACA,UACA,OACA,SACA,OACA,WACA,QACA,QACA,WACA,UACA,YACA,MACA,OACA,QACA,QACA,SACA,MACA,WACA,QACA,QACA,OACA,QACA,WACA,OACA,OACA,MACA,UACA,OACA,QACA,MACA,QACA,OACA,UACA,OACA,UACA,UACA,OACA,SACA,SACA,OACA,QACA,MACA,MACA,UACA,SACA,QACA,OACA,QACA,OACA,QACA,QACA,QACA,WACA,QACA,aACA,OACA,UACA,OACA,OACA,UACA,SACA,aACA,WACA,UACA,QACA,OACA,OACA,SACA,SACA,QACA,YACA,OACA,UACA,MACA,UACA,SACA,SACA,OACA,OACA,SACA,UACA,SACA,YACA,SACA,OACA,QACA,YACA,YACA,SACA,SACA,QACA,QACA,OACA,QACA,SACA,UACA,QACA,OACA,UACA,MACA,OACA,QACA,SACA,MACA,QACA,MACA,OACA,OACA,QACA,MACA,MACA,UACA,SACA,WACA,OACA,aACA,WACA,OACA,SACA,UACA,cACA,UACA,UACA,WACA,WACA,SACA,UACA,OACA,UACA,UACA,cACA,SACA,MACA,QACA,MACA,QACA,UACA,QACA,SACA,QACA,OACA,OACA,QACA,QACA,WACA,aACA,WACA,WACA,OACA,UACA,OACA,QACA,WACA,QACA,OACA,OACA,UACA,QACA,OACA,WACA,aACA,MACA,MACA,OACA,MACA,SACA,MACA,MACA,OACA,YACA,QACA,WACA,OACA,SACA,QACA,OACA,UACA,QACA,QACA,OACA,KACA,WACA,QACA,OACA,QACA,OACA,SACA,SACA,SACA,S,6tBCvUF,IAaMS,EAAS,SAACC,EAASC,GAAV,MAA0B,CAACD,EAASC,EAAaA,EAAaA,IAEvEC,EAAwB,SAACC,EAAMC,GACnC,IAAMC,EAAwBF,EAAKG,MAAM,EAAGH,EAAKI,OAAS,GACpDC,EAAaL,EAAKG,MAAMH,EAAKI,OAAS,GACxCE,EAAiB,IAAOD,EAAP,IACjBhC,EAAUkC,SAASF,KACrBC,EAAiB,IAAO3B,EAAM0B,GAAb,IAA4BtB,EAASsB,GAArC,KAGnB,IAAMG,EAAgBN,GAAwBD,EAAS,IAAM,IAAKlB,EAASsB,GACrEI,EAAI,GAAMP,E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","file":"ivrita.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ivrita\"] = factory();\n\telse\n\t\troot[\"Ivrita\"] = factory();\n})(self, function() {\nreturn ","/* eslint-disable quote-props */\nexport const fins = {\n  'ן': 'נ',\n  'ף': 'פ',\n  'ך': 'כ',\n  'ם': 'מ',\n  'ץ': 'צ',\n};\n/* eslint-enable quote-props */\nexport const finnables = Object.keys(fins).concat(Object.values(fins));\nexport const finals = Object.keys(fins);\n\nexport const toFin = (notFin) => Object.keys(fins).find((key) => fins[key] === notFin) || notFin;\nexport const toNotFin = (fin) => (fins[fin] || fin);\n","import { finals } from './finals';\n\nexport const SEP = '[\\\\\\\\/.]';\nexport const HEB = '[א-ת]';\nexport const EXTSEP = '[\\\\\\\\./—־-]';\nexport const G = '\\'‎\"”׳״'; // \"Gershayim\"\nexport const MAKAF = '—־-';\nexport const W = `[א-ת${G}]`;\nexport const FIN = `[${finals}]`;\n\nconst b = '^|$|\\b|[^א-ת\\u0590-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C7\\u05EF-\\u05F2\\uFB2A-\\uFB4F]'; // Boundary, like \"\\b\" in regex. All unicode characters which can be part of a hebrew word\nexport const B = `(?=${b})`; // Look-ahead positive\nexport const CB = `(${b})`; // Just capturing\nexport const LBPB = `(?<=${b})`; // Look-behind positive - not used since it's not supported by Safari :(\nexport const NCB = `(?:${b})`; // Non-capturing\n\nexport const SYNTAX = [EXTSEP, '\\\\[', '\\\\{', '\\\\(', 'םן', 'ןם', 'יםות', 'ותים'].join('|');\n","import {\n  G, SEP, EXTSEP, B,\n} from './utils/characters';\n\nexport const custom = [\n  [`א${EXTSEP}נשים`, 'אנשים', 'נשים'], // א.נשים\n  [`א${EXTSEP}נש(?:ות|י)${B}`, 'אנשי', 'נשות'], // א.נשי\n  [`את${SEP}ה`, 'אתה', 'את'], // את/ה\n  [`איש${SEP}(?:אש)?ת`, 'איש', 'אשת'], // איש/אשת, איש/ת\n  [`אשת${SEP}איש`, 'איש', 'אשת'], // אשת/איש\n  [`(גבר|איש)${SEP}אישה`, '$1', 'אישה'], // גבר/אישה, איש/אישה\n  [`אחי${SEP}ותי${B}`, 'אחי', 'אחותי'], // אחי/ותי\n  [`אח${SEP}ות${B}`, 'אח', 'אחות'], // אח/ות\n  [`ל(ו|ה)${SEP}ל(ו|ה)${B}`, 'לו', 'לה'], // לו/לה, לה/לו\n  [`ב(ן|ת)${SEP}ב(ן|ת)${B}`, 'בן', 'בת'], // בת/בן, בן/בת\n  [`ה(ו|י)א${SEP}ה(ו|י)א${B}`, 'הוא', 'היא'], // הוא/היא, היא/הוא\n  [`אנשי${SEP}ות${B}`, 'אנשי', 'נשות'], // אנשי/ות\n  [`מישהו${SEP}י${B}`, 'מישהו', 'מישהי'], // מישהו/י\n  [`אחד${SEP}(אח)?ת${B}`, 'אחד', 'אחת'], // אחד/ת, אחד/אחת\n  [`אחת${SEP}(אח)?ד${B}`, 'אחד', 'אחת'], // אחת/ד, אחת/אחד\n  [`יקיר(י?)${SEP}תי${B}`, 'יקירי', 'יקירתי'], // יקירי/תי\n  [`אהוב(י?)${SEP}תי${B}`, 'אהובי', 'אהובתי'], // אהובי/תי\n  ['סב\\\\(ת\\\\)א', 'סבא', 'סבתא'], // סבא/סבתא\n  [`זה${SEP}זאת${B}`, 'זה', 'זאת'], // זה/זאת\n  [`זאת${SEP}זה${B}`, 'זה', 'זאת'], // זאת/זה\n  [`זה${SEP}ז?ו${B}`, 'זה', 'זו'], // זה/זו\n  [`זו${SEP}ז?ה${B}`, 'זה', 'זו'], // זו/זה\n  [`נשוי${SEP}א?ה${B}`, 'נשוי', 'נשואה'], // נשוי/אה\n  [`חשוב${SEP}י${B}`, 'חשוב', 'חשבי'], // חשוב/י (exception because of שוב/י which is in verbsFemaleKeepVav)\n  [`חשוב${SEP}י${SEP}ו${B}`, 'חשוב', 'חשבי', 'חשבו'], // חשוב/י/ו (exception because of שוב/י which is in verbsFemaleKeepVav)\n];\n\n// For most verbs (Unless found in *verbsFemaleKeepVav*), we follow the rules of:\n// כתוב/י => Vav before last letter => Vav removed => כתבי\n// else:\n// לך/י => Yod added after original word => לכי\n// However, some verbs need an aditional Yod before their last letter:\n// הקשב => Add Yod before and after Bet => הקשיבי\n// This is the list of words which need that extra Yod:\nexport const verbsFemaleExtraYod = [\n  'האר',\n  'הבא',\n  'הגב',\n  'הדגם',\n  'הדלק',\n  'הוסף',\n  'הואל',\n  'הורד',\n  'הזמן',\n  'הזן',\n  'הכנס',\n  'הלבש',\n  'המלץ',\n  'המשך',\n  'הסר',\n  'הסתר',\n  'הפעל',\n  'הפקד',\n  'הצג',\n  'הקלד',\n  'הקלק',\n  'הקש',\n  'הקשב',\n  'הרגש',\n  'הרם',\n  'הרעף',\n  'השב',\n  'השלם',\n  'השתק',\n  'התמד',\n  'התקן',\n  'העתק',\n  'הדבק',\n];\n\nexport const verbsFemaleKeepVav = [\n  'קום',\n  'רוץ',\n  'עופ',\n  'שוב',\n  'זוז',\n  'טוס',\n  'שוט',\n  'בוא',\n];\n\n// Most plurals don't need an extra Yod on their female form: מורים->מורות\n// These are the exceptions which need a Yod:\nexport const pluralsWithExtraYod = [\n  '(א|ס)ובי(י?)קטיב', // אוביקטיבי וסוביקטיבי\n  `אחמ([${G}]?)ש`,\n  `ח([${G}])כ`,\n  `מ([${G}])פ`,\n  `מנכ([${G}]?)ל`,\n  `מפא([${G}]?)יניק`,\n  `משת([${G}]?)פ`,\n  `עו([${G}])(ס|ד)`,\n  `רו([${G}])ח`,\n  `רשג([${G}]?)ד`,\n  'א(י?)כפת',\n  'אביב',\n  'אח',\n  'אגרונומ',\n  'אדריכל',\n  'אוטיסט',\n  'אוסטר(ל?)',\n  'אופטימ',\n  'אחרא',\n  'אחיינ',\n  'איטלק',\n  'אינדיבידואליסט',\n  'אירונ',\n  'אירופא',\n  'אכזר',\n  'אלגנט',\n  'אלכוהוליסט',\n  'אלמונ',\n  'אמית',\n  'אמריק(א|נ)',\n  'אנאלפבית',\n  'אנגל',\n  'אנוש',\n  'אנטישמ',\n  'אנליסט',\n  'אנרכיסט',\n  'אסטרולוג',\n  'אסיאת',\n  'אפריק(נ|א)',\n  'אצנ',\n  'אקדמ(א?)',\n  'אקטואל',\n  'אקטיביסט',\n  'אקרא',\n  'ארטיסט',\n  'אשכנז',\n  'אתאיסט',\n  'אתיופ',\n  'בוגדנ',\n  'בולגר',\n  'בטחונ',\n  'ביביסט',\n  'ב(י?)דיונ',\n  'בינונ',\n  'בינלאומ',\n  'בל(א?)גניסט',\n  'בלוגר',\n  'בלונד',\n  'במא',\n  'ברב(א?)ר',\n  'ברונט',\n  'בריט',\n  'ברמנ',\n  `ג${G}ובניק`,\n  `ג${G}ינג${G}`,\n  'גות',\n  'גיטריסט',\n  'גר(א?)פ',\n  'גרמנ',\n  'גרפיקא',\n  'דברנ',\n  'דוקטורנט',\n  'דושבג',\n  'דיאטנ',\n  'דינ(א?)מ',\n  '(י?)הוד',\n  'הי(פ?)סטר',\n  'היפ',\n  'הססנ',\n  'הנדסא',\n  'הרמונ',\n  'וטרינר',\n  'זכא',\n  'חבר(ו?)ת',\n  'חובבנ',\n  'חולמנ',\n  'חושנ',\n  'חילונ',\n  'חי(ו|נ)נ',\n  'חיפא',\n  'חמדנ',\n  'חרד',\n  'חרד(ת?)',\n  'חרמנ',\n  'חשמלא',\n  'טבח',\n  'טבעונ',\n  'טורק',\n  'טיפוגרפ',\n  'טכנא',\n  'טרוריסט',\n  'טרמפיסט',\n  'טרנס',\n  'ידידות',\n  'יוגיסט',\n  'יוונ',\n  'יורקר',\n  'יזמ',\n  'ימא',\n  'ימ(י?)נ',\n  'ירושלמ',\n  'ישראל',\n  'כימא',\n  'כלכלנ',\n  'כרונ',\n  'לבנונ',\n  'לוחמנ',\n  'ליברל',\n  'ליכודניק',\n  'מאסטר',\n  'מוזיק(ל|א)',\n  'מומח',\n  'מזוכיסט',\n  'מזרח',\n  'מחזא',\n  'מטאליסט',\n  'מטרידנ',\n  'מילואימניק',\n  'מיליארדר',\n  'מיליונר',\n  'מכונא',\n  'מלאכ',\n  'מלצר',\n  'מפסידנ',\n  'מצליחנ',\n  'מצפונ',\n  'מקצוע(נ?)',\n  'מרדנ',\n  'מרקסיסט',\n  'נגר',\n  'נובוריש',\n  'נודיסט',\n  'נודניק',\n  'נוצר',\n  'נורא',\n  'נורווג',\n  'נטורופת',\n  'נרקומנ',\n  'ס(א?)דיסט',\n  'ס(א?)ח',\n  'סדרנ',\n  'סהרור',\n  'סוליד(ר?)',\n  'סוציאליסט',\n  'סטודנט',\n  'סטרייט',\n  'סמכות',\n  'סנדלר',\n  'סנוב',\n  'ססגונ',\n  'ספונטנ',\n  'ספורטיב',\n  'ספציפ',\n  'ספרד',\n  'סקסולוג',\n  'סרב',\n  'סרטט',\n  'עירונ',\n  'עיתונא',\n  'עממ',\n  'עניינ',\n  'ענק',\n  'עסיס',\n  'עצמא',\n  'עקרונ',\n  'ערב',\n  'ערס',\n  'פאנקיסט',\n  'פדופיל',\n  'פוליטיקא',\n  'פולנ',\n  'פופול(א?)ר',\n  'פופוליסט',\n  'פחדנ',\n  'פטריוט',\n  'פילוסופ',\n  'פיזיוטרפיסט',\n  'פמיניסט',\n  'פסיכופת',\n  'פסיכולוג',\n  'פסיכיאטר',\n  'פסנתרנ',\n  'פציפיסט',\n  'פריק',\n  'פרופסור',\n  'פרזנטור',\n  'פריל(א?)נסר',\n  'פרסומא',\n  'פקח',\n  'פשיסט',\n  'צבע',\n  'צבעונ',\n  'צי(ו?)נ',\n  'ציבור',\n  'ציפלונ',\n  'צמחונ',\n  'צפונ',\n  'צרפת',\n  'קדמונ',\n  'קוויר',\n  'קומוניסט',\n  'קומיק(ס?)א',\n  'קונדיטור',\n  'קוסמטיקא',\n  'קופא',\n  'קוקסינל',\n  'קטלנ',\n  'קטנונ',\n  'קיבוצניק',\n  'קיצונ',\n  'קלאס',\n  'קלדנ',\n  'קלפטומנ',\n  'קניינ',\n  'קפדנ',\n  'קפיטליסט',\n  'קריקטוריסט',\n  'קצב',\n  'רבנ',\n  'רוחנ',\n  'רוס',\n  'רוקיסט',\n  'רמא',\n  'רפד',\n  'רקדנ',\n  'ש(ו?)ויונ',\n  'שאפתנ',\n  'שוביניסט',\n  'שווד',\n  'שוויצר',\n  'שחיינ',\n  'שחקנ',\n  'שלומיאל',\n  'שמאלנ',\n  'שמנמנ',\n  'שמרנ',\n  'שפ', //*\n  'שק(ר|ד)נ',\n  'שרמנט',\n  'תורכ',\n  'תזונא',\n  'תחמנ',\n  'תסריטא',\n  'תצפיתנ',\n  'תקציבא',\n  'תרבות',\n];\n","import {\n  SEP, G, W, FIN, B, HEB, NCB, CB,\n} from './utils/characters';\n\nimport {\n  finals,\n  finnables, toFin, toNotFin,\n} from './utils/finals';\nimport {\n  custom, verbsFemaleExtraYod, verbsFemaleKeepVav, pluralsWithExtraYod,\n} from './wordlists';\n\n// Marks are used by early rules to specify a position in a text\n// which should be addressed later by later rules.\n// For example, M_WORDFIN marks an artificial end of a word,\n// which was created by a rule (i.e. wasn't the end of the word in the original text)\n// and this ending should be checked for final letters errors (מ=>ם).\nconst M_WORDFIN = '\\u05c8'; // Not a real character\nconst M_NOT_WORDFIN = '\\u05c9'; // Not a real character\n\nconst regexize = (p) => {\n  p[0] = new RegExp(p[0], 'g');\n\n  if (p[3] === true) {\n    p[3] = `${p[1]}/${p[2]}`;\n  }\n  return p;\n};\n\n// Unisex rules match always replace the same string, mode-ignorantly.\nconst unisex = (pattern, replacement) => [pattern, replacement, replacement, replacement];\n\nconst matchAndNormalizeVerb = (word, addYod) => {\n  const wordWithoutLastLetter = word.slice(0, word.length - 1);\n  const lastLetter = word.slice(word.length - 1);\n  let lastLetterMatcher = `(${lastLetter})`;\n  if (finnables.includes(lastLetter)) {\n    lastLetterMatcher = `(${toFin(lastLetter)}|${toNotFin(lastLetter)})`;\n  }\n\n  const femaleBase = `${wordWithoutLastLetter}${addYod ? 'י' : ''}${toNotFin(lastLetter)}`;\n  const male = `${wordWithoutLastLetter}${toFin(lastLetter)}`;\n  return [\n    [`${wordWithoutLastLetter}${lastLetterMatcher}${SEP}י${SEP}ו${B}`, male, `${femaleBase}י`, `${femaleBase}ו`],\n    [`${wordWithoutLastLetter}${lastLetterMatcher}${SEP}י${B}`, male, `${femaleBase}י`],\n  ];\n};\n\nexport default [\n  // Whole Words\n  ...custom,\n\n  // הקשב/י => הקשב, הקשיבי\n  ...verbsFemaleExtraYod.reduce((r, word) => r.concat(matchAndNormalizeVerb(word, true)), []),\n\n  // קום/י => קום, קומי\n  ...verbsFemaleKeepVav.reduce((r, word) => r.concat(matchAndNormalizeVerb(word, false)), []),\n\n  // סטודנטים/ות => סטודנטים, סטודנטיות\n  ...pluralsWithExtraYod.map((word) => {\n    let targetWord = word;\n    if (word.includes('(')) { // regex groups\n      targetWord = word.replace(new RegExp('\\\\(.*?\\\\)'), '$2'); // TODO: support multiple groups\n    }\n    return [`${CB}${word}ים${SEP}י?ות${B}`, `$1${targetWord}ים`, `$1${targetWord}יות`];\n  }),\n\n  // Beginnings\n  [`(${NCB}${W}{0,3})י${SEP}ת(${W}{2,})`, '$1י$2', '$1ת$2'], // שי/תכתוב\n  [`(${NCB}${W}{0,3})ת${SEP}י(${W}{2,})`, '$1י$2', '$1ת$2'], // שת/יכתוב\n\n  // Endings\n\n  [`ו${SEP}ה${B}`, 'ו', 'ה'], // בגללה/ו\n  [`ה${SEP}ו${B}`, 'ו', 'ה'], // בגללו/ה\n  [`(${W})${SEP}ה${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}ה`], // חרוץ/ה\n  ...finals.map(\n    (f) => [`(${W})${f}${SEP}${toNotFin(f)}ה${B}`, `$1${f}${M_WORDFIN}`, `$1${toNotFin(f)}${M_NOT_WORDFIN}ה`],\n  ), // מוכן/נה, חרוץ/צה\n\n  [`(${W})ה?${SEP}תה${B}`, '$1ה', '$1תה'], // בכה/תה, רצ/תה\n  [`(${W})יו${SEP}י?ה${B}`, '$1יו', '$1יה'], // מחקריו/יה\n  [`(${W})ה${SEP}ית${B}`, '$1ה', '$1ית'], // מומחה/ית\n  [`(${W})(ו?)י${SEP}ות${B}`, '$1$2י', '$1ות'], // מומחי/ות, שווי/ות\n  [`(${W})ות${SEP}י${B}`, '$1י', '$1ות'], // מומחות/י\n  [`(${W})${SEP}ית${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}ית`], // סטודנט/ית\n\n  [`(${W})י${SEP}תי${B}`, '$1י', '$1תי'], // יקירי/תי\n\n  [`(${W}{4,})אים${SEP}י?ות${B}`, '$1אים', '$1איות'], // ארגנטינאים/ות\n\n  [`(${W})ווים${SEP}?ות${B}`, '$1ווים', '$1וות'], // שווים/ות\n  [`(${W})וות${SEP}ים${B}`, '$1ווים', '$1וות'], // שוות/ים\n  [`(${W})(י)?ים${SEP}?(י)?ות${B}`, '$1$2ים', '$1$2$3ות'], // מורים/ות\n  [`(${W})(י)?ות${SEP}י?ים${B}`, '$1$2ים', '$1$2ות'], // מורות/ים\n  [`(${W})י${SEP}ות${B}`, '$1י', '$1ות'], // עורכי/ות\n\n  [`(${W})ה${SEP}י${SEP}ו${B}`, '$1ה', '$1י', '$1ו'], // ראה/י/ו\n  [`(${W})ה${SEP}י${B}`, '$1ה', '$1י'], // ראה/י\n  [`(${W})י${SEP}ה${SEP}ו${B}`, '$1ה', '$1י', '$1ו'], // ראי/ה/ו\n  [`(${W})י${SEP}ה${B}`, '$1ה', '$1י'], // ראי/ה\n  [`(${W}+)\\\\(י\\\\)(${W})${SEP}י${SEP}ו${B}`, '$1$2', '$1י$2י', '$1י$2ו'], // הפע(י)ל/י/ו\n  [`(${W}+)\\\\(י\\\\)(${W})${SEP}י${B}`, '$1$2', '$1י$2י'], // הפע(י)ל/י\n  [`(${HEB})ו(ו?)(${W})${SEP}י${SEP}ו${B}`, `$1$2ו$3${M_WORDFIN}`, `$1$2$2$3${M_NOT_WORDFIN}י`, `$1$2$3${M_NOT_WORDFIN}ו`], // כתוב/י/ו, דווח/י/ו\n  [`(${HEB})ו(ו?)(${W})${SEP}י${B}`, `$1$2ו$3${M_WORDFIN}`, `$1$2$2$3${M_NOT_WORDFIN}י`], // כתוב/י, דווח/י\n  [`(${W})${SEP}י${SEP}ו${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}י`, `$1${M_NOT_WORDFIN}ו`], // לך/י/ו\n  [`(${W})${SEP}י${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}י`], // לך/י\n\n  [`(${W})(ה)?${SEP}ת${B}`, `$1$2${M_WORDFIN}`, `$1${M_NOT_WORDFIN}ת`], // נהג/ת, רואה/ת חשבון\n\n  [`(${W})ם${SEP}?ן${B}`, '$1ם', '$1ן'], // אתם/ן\n  [`(${W})ן${SEP}?ם${B}`, '$1ם', '$1ן'], // אתן/ם\n  [`ה(${W}+)י(${W})ו${SEP}נה${B}`, 'ה$1י$2ו', 'ה$1$2נה'], // הלבישו/נה\n  [`(${W}+)ו${SEP}ת(${W}+)נה${B}`, '$1ו', 'ת$2נה'], // יצאו/תצאנה\n  [`ת(${W}+)ו${SEP}נה${B}`, 'ת$1ו', 'ת$1נה'], // תדרכו/נה\n  [`(${W}+)ו${SEP}נה${B}`, '$1ו', '$1נה'], // רקדו/נה\n\n  // Parentheses\n  [`(${W}+)\\\\(([ותי]{1,3})\\\\)([יוהםן]{1,3})${B}`, '$1$3', '$1$2$3'], // מתנגד(ות)יו, מתנגד(ות)יהם\n  [`(${W}+)י\\\\(י\\\\)(${W}*)(${FIN})${B}`, '$1י$2$3', '$1יי$2$3'], // פני(י)ך\n  [`(${W}+)\\\\(י\\\\)י(${W}*)(${FIN})${B}`, '$1י$2$3', '$1יי$2$3'], // פנ(י)יך\n  [`\\\\(א\\\\)נשים${B}`, 'אנשים', 'נשים'], // (א)נשים\n  [`(${W}+)ב\\\\(ת\\\\)${B}`, '$1ב', '$1בת'], // חושב(ת)\n  [`(${W}+)(ך|כ)\\\\(([םן.\\\\/]{1,3})\\\\)${B}`, '$1ך', '$1ך', '$1כ$3'], // שלך(ם), שלך(ן)\n\n  // Special Syntax\n  ['\\\\[([^|]*?)\\\\|([^|]*?)\\\\|([^|]*?)\\\\]', '$1', '$2', '$3'], // [בן|בת|ילד]\n  ['\\\\[([^|]*?)\\\\|([^|]*?)\\\\]', '$1', '$2', true], // [בן|בת]\n\n  // Final Letters fixes\n  unisex(`ץ${M_NOT_WORDFIN}`, 'צ'), // חרוץה\n  unisex(`ך${M_NOT_WORDFIN}`, 'כ'), // משךי\n  unisex(`ן${M_NOT_WORDFIN}`, 'נ'), // השעןי\n  unisex(`ם${M_NOT_WORDFIN}`, 'מ'), // יזםית\n  unisex(`ף${M_NOT_WORDFIN}`, 'פ'), // פילוסוףית\n\n  unisex(`([^${G}]+)צ${M_WORDFIN}`, '$1ץ'), // חרוצ\n  unisex(`([^${G}]+)כ${M_WORDFIN}`, '$1ך'), // משוכ\n  unisex(`([^${G}]+)נ${M_WORDFIN}`, '$1ן'), // השענ\n  unisex(`([^${G}]+)מ${M_WORDFIN}`, '$1ם'), // יזמ\n  unisex(`([^${G}]+)פ${M_WORDFIN}`, '$1ף'), // פילוסופ\n\n  // Remove marks\n  unisex(`[${M_WORDFIN}${M_NOT_WORDFIN}]`, ''),\n].map(regexize);\n","import rules from './rules';\n\nconst PROTECTED = '__IVRITA_PROTECTED__';\nconst protectedRegexp = new RegExp(`\\\\{${PROTECTED}:(\\\\d+):${PROTECTED}\\\\}`, 'g');\n\nexport const ORIGINAL = 0;\n\nexport const MALE = 1;\n\nexport const FEMALE = 2;\n\nexport const NEUTRAL = 3;\n\nexport const GENDERS = [ORIGINAL, MALE, FEMALE, NEUTRAL];\n\nexport const genderize = (originalText, gender, doneFunc) => {\n  let genderized = originalText;\n  const bracedStrings = [];\n\n  if (genderized.includes('{')) {\n    // Remove braced parts from text and save them aside\n    genderized = genderized.replace(/\\{(.*?)\\}/g, (matched, string, index) => {\n      bracedStrings[index] = string;\n      return `{${PROTECTED}:${index}:${PROTECTED}}`;\n    });\n  }\n\n  let prev = originalText;\n  const used = [];\n  rules.forEach(([pattern, male, female, neutral]) => {\n    let replacement;\n    switch (gender) {\n      case FEMALE:\n        replacement = female;\n        break;\n\n      case MALE:\n        replacement = male;\n        break;\n\n      case NEUTRAL:\n      default:\n        if (typeof neutral !== 'undefined') replacement = neutral;\n        break;\n    }\n    if (replacement !== undefined) {\n      genderized = genderized.replace(pattern, replacement);\n    }\n\n    if (typeof doneFunc === 'function' && prev !== genderized) {\n      used.push(pattern);\n      prev = genderized;\n    }\n  });\n\n  if (bracedStrings.length) {\n    // Bring back braced parts\n    genderized = genderized.replace(protectedRegexp, (matched, group) => {\n      const parsedIndex = parseInt(group, 10);\n      if (bracedStrings[parsedIndex]) {\n        return bracedStrings[parsedIndex];\n      }\n      return '';\n    });\n  }\n\n  if (typeof doneFunc === 'function') {\n    doneFunc(used);\n  }\n  return genderized;\n};\n","import { genderize, ORIGINAL } from './ivrita';\n\nexport const IncompatibleTypeError = new Error('Incompatible node passed to the node constructor');\n\nexport default class TextObject {\n  originalText = '';\n\n  currentMode = false;\n\n  storedValues = {}\n\n  static instances = new WeakMap();\n\n  constructor(node) {\n    if (TextObject.instances.has(node)) {\n      return TextObject.instances.get(node);\n    }\n\n    TextObject.instances.set(node, this);\n  }\n\n  init() {\n    this.originalText = this.getValue();\n  }\n\n  setMode(newMode) {\n    let newVal;\n    this.currentMode = newMode;\n\n    if (this.storedValues[newMode] !== undefined) {\n      newVal = this.storedValues[newMode];\n    } else if (newMode === ORIGINAL) {\n      newVal = this.originalText;\n    } else {\n      newVal = genderize(this.originalText, newMode);\n    }\n\n    if (newVal !== this.getValue()) {\n      this.setValue(newVal);\n    }\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newVal) {\n    this.value = newVal;\n  }\n}\n","import TextObject, { IncompatibleTypeError } from './textObject';\n\nexport default class TextAttribute extends TextObject {\n  attr = {};\n\n  constructor(attr) {\n    if (!attr) return false;\n    if (!(attr instanceof Attr)) {\n      throw IncompatibleTypeError;\n    }\n\n    super(attr);\n\n    this.attr = attr;\n\n    if (!this.currentMode) {\n      this.init();\n    }\n  }\n\n  getValue() {\n    return this.attr.value;\n  }\n\n  setValue(newVal) {\n    this.attr.value = newVal;\n  }\n}\n","import TextObject, { IncompatibleTypeError } from './textObject';\nimport { MALE, FEMALE, NEUTRAL } from './ivrita';\n\nexport const MALE_DATA_ATTR = 'ivritaMale';\nexport const FEMALE_DATA_ATTR = 'ivritaFemale';\nexport const NEUTRAL_DATA_ATTR = 'ivritaNeutral';\n\nexport default class TextElement extends TextObject {\n  element = {};\n\n  constructor(element) {\n    if (!element) return false;\n    if (!(element instanceof Element)) {\n      throw IncompatibleTypeError;\n    }\n\n    super(element);\n\n    this.element = element;\n\n    if (!this.currentMode) {\n      this.init();\n    }\n  }\n\n  init() {\n    super.init();\n    if (this.element.dataset[MALE_DATA_ATTR]) {\n      this.storedValues[MALE] = this.element.dataset[MALE_DATA_ATTR];\n    }\n    if (this.element.dataset[FEMALE_DATA_ATTR]) {\n      this.storedValues[FEMALE] = this.element.dataset[FEMALE_DATA_ATTR];\n    }\n    if (this.element.dataset[NEUTRAL_DATA_ATTR]) {\n      this.storedValues[NEUTRAL] = this.element.dataset[NEUTRAL_DATA_ATTR];\n    }\n  }\n\n  getValue() {\n    return this.element.innerHTML;\n  }\n\n  setValue(newVal) {\n    this.element.innerHTML = newVal;\n  }\n}\n","import TextObject, { IncompatibleTypeError } from './textObject';\n\nexport default class TextNode extends TextObject {\n  node = {};\n\n  constructor(node) {\n    if (!node) return false;\n    if (!(node instanceof Text)) {\n      throw IncompatibleTypeError;\n    }\n\n    super(node);\n\n    this.node = node;\n\n    if (!this.currentMode) {\n      this.init();\n    }\n  }\n\n  getValue() {\n    return this.node.data;\n  }\n\n  setValue(newVal) {\n    this.node.data = newVal;\n  }\n}\n","import {\n  MALE, FEMALE, NEUTRAL, ORIGINAL, GENDERS, genderize,\n} from './ivrita';\nimport TextAttribute from './textAttribute';\nimport TextElement, { MALE_DATA_ATTR, FEMALE_DATA_ATTR, NEUTRAL_DATA_ATTR } from './textElement';\nimport TextNode from './textNode';\nimport TextObject from './textObject';\nimport { HEB, SYNTAX } from './utils/characters';\n\nconst hebrewRegex = new RegExp(HEB);\nconst ivritaSyntaxRegex = new RegExp(SYNTAX);\n\nconst MULTI = GENDERS.length; // ENUM-like\n\nexport default class IvritaElement {\n  static EVENT_MODE_CHANGED = 'ivrita-mode-changed';\n\n  static ORIGINAL = ORIGINAL;\n\n  static MALE = MALE;\n\n  static FEMALE = FEMALE;\n\n  static NEUTRAL = NEUTRAL;\n\n  // MULTI is a special with FFS enabled, but is essentialy the NEUTRAL mode.\n  static MULTI = MULTI;\n\n  static GENDERS = [...GENDERS, MULTI];\n\n  static instances = new Map();\n\n  static defaultMode = NEUTRAL;\n\n  static genderize = genderize;\n\n  static textObjects = TextObject.instances;\n\n  nodes = new Set();\n\n  elements = [];\n\n  mode;\n\n  fontFeatureSettings;\n\n  relavantAttributes = {\n    'a, img, button, input': ['title'],\n    [`input:not([type=${['submit', 'button', 'checkbox', 'radio', 'hidden', 'image', 'range', 'reset', 'file'].join(']):not([type=')}])`]: ['placeholder'],\n    'input[type=submit], input[type=button], input[type=reset]': ['value'],\n  };\n\n  constructor(elem, mode) {\n    if (typeof elem === 'undefined') {\n      this.elements = [document.body];\n      const titleTag = document.documentElement.querySelector('title');\n      if (titleTag) {\n        this.elements.push(titleTag);\n      }\n    } else if (elem instanceof Array && elem.filter((el) => el instanceof HTMLElement)) {\n      this.elements = elem;\n    } else if (elem instanceof NodeList) {\n      this.elements = Array.from(elem);\n    } else if (elem instanceof HTMLElement) {\n      this.elements = [elem];\n    } else if (typeof jQuery === 'function' && elem instanceof jQuery && typeof elem.toArray === 'function') {\n      this.elements = elem.toArray();\n    } else {\n      throw new Error('Passed argument is not an HTMLElement.');\n    }\n\n    if (this.elements.length === 1 && this.constructor.instances.has(this.elements[0])) {\n      const preExistingInstance = this.constructor.instances.get(this.elements[0]);\n      preExistingInstance.registerTextObjects(this.elements[0]); // Make sure nodes are registered\n      return preExistingInstance;\n    }\n\n    this.observer = new MutationObserver(this.onElementChange.bind(this));\n    this.elements.forEach((el) => {\n      this.observer.observe(el, {\n        childList: true,\n        subtree: true,\n        characterData: false,\n      });\n      this.constructor.instances.set(el, this);\n      this.registerTextObjects(el);\n    });\n\n    if (typeof mode !== 'undefined') {\n      this.setMode(mode);\n    } else if (this.constructor.defaultMode) {\n      this.setMode(this.constructor.defaultMode);\n    }\n  }\n\n  destroy() {\n    this.setMode(ORIGINAL);\n    this.setFontFeatureSettings(false);\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    this.nodes.clear();\n    this.elements.forEach((el) => {\n      this.constructor.instances.delete(el);\n    });\n  }\n\n  static setDefaultMode(newMode) {\n    this.defaultMode = newMode;\n  }\n\n  setMode(newMode = NEUTRAL) {\n    if (!this.constructor.GENDERS.includes(newMode)) {\n      return this;\n    }\n\n    if ((this.mode === MULTI && newMode !== MULTI) || (this.mode !== MULTI && newMode === MULTI)) {\n      this.setFontFeatureSettings(newMode === MULTI);\n    }\n\n    this.mode = newMode;\n    // If the new mode is MULTI, mask it from the child nodes - for them it's a NEUTRAL mode.\n    this.nodes.forEach((node) => node.setMode(newMode === MULTI ? NEUTRAL : newMode));\n\n    this.dispatchModeChangedEvent(newMode);\n\n    return this;\n  }\n\n  static setMode(newMode) {\n    this.instances.forEach((instance) => instance.setMode(newMode));\n  }\n\n  genderize(text) {\n    return this.constructor.genderize(text, this.mode);\n  }\n\n  dispatchModeChangedEvent(mode = this.mode) {\n    this.elements.forEach(\n      (el) => el.dispatchEvent(new CustomEvent(this.constructor.EVENT_MODE_CHANGED,\n        { bubbles: true, detail: { mode, firingInstance: this } })),\n    );\n  }\n\n  registerTextObjects(element) {\n    this.registerTextNodes(element);\n    this.registerTextAttributes(element);\n  }\n\n  registerTextNodes(element) {\n    let currentNode;\n    const walk = document.createTreeWalker(\n      element,\n      NodeFilter.SHOW_ELEMENT + NodeFilter.SHOW_TEXT,\n      {\n        acceptNode: (node) => (this.constructor.acceptNodeFilter(node)),\n      },\n    );\n\n    // eslint-disable-next-line no-cond-assign\n    while ((currentNode = walk.nextNode())) {\n      let newNode;\n      if (currentNode instanceof Text) {\n        newNode = new TextNode(currentNode);\n      } else if (currentNode instanceof Element) {\n        newNode = new TextElement(currentNode);\n      }\n      this.nodes.add(newNode);\n      // Set the new node's mode to the current mode, to get in line with everything else\n      if (this.mode) {\n        newNode.setMode(this.mode);\n      }\n    }\n  }\n\n  registerTextAttributes(element) {\n    Object.entries(this.relavantAttributes).forEach(([selector, attributes]) => {\n      Array.from(element.querySelectorAll(selector)).forEach((input) => {\n        attributes.forEach((attrName) => {\n          if (input.hasAttribute(attrName)) {\n            this.nodes.add(new TextAttribute(input.getAttributeNode(attrName)));\n          }\n        });\n      });\n    });\n  }\n\n  static acceptNodeFilter(node) {\n    if (TextObject.instances.has(node)) { // Already indexed, will be a pointer to existing node\n      return NodeFilter.FILTER_ACCEPT;\n    }\n\n    if (node.textContent.trim().length <= 0) {\n      return NodeFilter.FILTER_REJECT; // If there's no content, reject all child nodes\n    }\n\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      if (node.dataset.ivritaDisable) {\n        return NodeFilter.FILTER_REJECT;\n      }\n      if ([MALE_DATA_ATTR, FEMALE_DATA_ATTR, NEUTRAL_DATA_ATTR]\n        .filter((attr) => node.dataset[attr]).length) {\n        return NodeFilter.FILTER_ACCEPT;\n      }\n    } else if (node.nodeType === Node.TEXT_NODE) {\n      if (hebrewRegex.test(node.textContent) // Test for Hebrew Letters\n      && ivritaSyntaxRegex.test(node.textContent)) {\n        return NodeFilter.FILTER_ACCEPT;\n      }\n    }\n    return NodeFilter.FILTER_SKIP;\n  }\n\n  onElementChange(mutationsList) {\n    const closest = (el, s) => {\n      do {\n        if (el instanceof Element && Element.prototype.matches.call(el, s)) return el;\n        // eslint-disable-next-line no-param-reassign\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n\n    mutationsList.forEach((mutation) => {\n      if (mutation.type === 'childList') {\n        const added = Array.from(mutation.addedNodes);\n        const removed = Array.from(mutation.removedNodes);\n        if (added.length === removed.length) { // Probably just changed, not really removed\n          removed.forEach((oldNode, i) => {\n            if (oldNode.nodeType === Node.TEXT_NODE) {\n              const newNode = added[i];\n              if (TextNode.instances.has(oldNode) && newNode.nodeType === Node.TEXT_NODE) {\n                const nodeObj = TextNode.instances.get(oldNode);\n                nodeObj.node = newNode; // This is dangerous, make sure it makes sense\n                TextNode.instances.set(newNode, nodeObj);\n                TextNode.instances.delete(oldNode);\n              }\n            } // TODO: what about nodes with nested text nodes?\n          });\n        } else {\n          added.forEach((node) => {\n            if (closest(node, '[data-ivrita-disable]')) {\n              return;\n            }\n            if (node.nodeType === Node.TEXT_NODE\n              && this.constructor.acceptNodeFilter(node) === NodeFilter.FILTER_ACCEPT) {\n              const ivritaTextNode = new TextNode(node);\n              this.nodes.add(ivritaTextNode);\n              // Set the new node's mode to the current mode, to get in line with everything else\n              if (this.mode) {\n                ivritaTextNode.setMode(this.mode);\n              }\n            } else if (node.childNodes.length > 0) {\n              this.registerTextNodes(node);\n            }\n          });\n        }\n      }\n    });\n  }\n\n  setFontFeatureSettings(isActive) {\n    this.fontFeatureSettings = isActive;\n    this.elements.forEach((el) => {\n      const originalFFS = el.style.fontFeatureSettings;\n      let result = originalFFS.slice().replace('normal', '');\n\n      if (isActive) {\n        if (!result.includes('titl')) {\n          if (result) { // Only add a space if property exists\n            result += ', ';\n          }\n          result += '\"titl\"';\n        }\n      } else if (result.includes('titl')) {\n        result = result.replace(/(, )?\"?'?titl\"?'?/, '');\n      }\n\n      if (!result) result = 'normal';\n\n      el.style.fontFeatureSettings = result;\n    });\n\n    return this;\n  }\n}\n\nif (typeof jQuery === 'function') {\n  jQuery.fn.ivrita = function ivritajQueryFn(gender) {\n    return new IvritaElement(this, gender);\n  };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(662);\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)"],"sourceRoot":""}