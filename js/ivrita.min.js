!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Ivrita=n():t.Ivrita=n()}(self,(function(){return(()=>{"use strict";var t={540:(t,n,c)=>{c.d(n,{default:()=>S});var e={ן:"נ",ף:"פ",ך:"כ",ם:"מ",ץ:"צ"},o=Object.keys(e).concat(Object.values(e)),a=Object.keys(e),r=function(t){return Object.keys(e).find((function(n){return e[n]===t}))||t},i="[\\\\/.]",s="[א-ת]",u="[\\\\./—־-]",l="'‎\"”׳״",f="[א-ת".concat(l,"]"),d="[".concat(a,"]"),h="(?=^|$|\b|[^א-ת".concat(l,"?֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ])"),$=[u,"\\[","\\{","\\(","םן","ןם","יםות","ותים"].join("|"),y=[["א".concat(u,"נשים"),"אנשים","נשים"],["א".concat(u,"נשי(?!ם)"),"אנשי","נשות"],["את".concat(i,"ה"),"אתה","את"],["איש".concat(i,"(?:אש)?ת"),"איש","אשת"],["אשת".concat(i,"איש"),"איש","אשת"],["(גבר|איש)".concat(i,"אישה"),"$1","אישה"],["אח".concat(i,"ות").concat(h),"אח","אחות"],["ל(ו|ה)".concat(i,"ל(ו|ה)").concat(h),"לו","לה"],["ב(ן|ת)".concat(i,"ב(ן|ת)").concat(h),"בן","בת"],["ה(ו|י)א".concat(i,"ה(ו|י)א").concat(h),"הוא","היא"],["אנשי".concat(i,"ות").concat(h),"אנשי","נשות"],["מישהו".concat(i,"י").concat(h),"מישהו","מישהי"],["אחד".concat(i,"(אח)?ת").concat(h),"אחד","אחת"],["אחת".concat(i,"(אח)?ד").concat(h),"אחד","אחת"],["יקיר(י?)".concat(i,"תי").concat(h),"יקירי","יקירתי"],["אהוב(י?)".concat(i,"תי").concat(h),"אהובי","אהובתי"],["צור".concat(i,"י").concat(h),"צור","צרי"]],v=["(א|ס)ובי(י?)קטיב","אחמ([".concat(l,"]?)ש"),"ח([".concat(l,"])כ"),"מ([".concat(l,"])פ"),"מנכ([".concat(l,"]?)ל"),"מפא([".concat(l,"]?)יניק"),"משת([".concat(l,"]?)פ"),"עו([".concat(l,"])(ס|ד)"),"רו([".concat(l,"])ח"),"רשג([".concat(l,"]?)ד"),"א(י?)כפת","אביב","אח","אגרונומ","אדריכל","אוטיסט","אוסטר(ל?)","אופטימ","אחרא","איטלק","אינדיבידואליסט","אירונ","אירופא","אכזר","אלגנט","אלכוהוליסט","אלמונ","אמית","אמריק(א|נ)","אנאלפבית","אנגל","אנוש","אנטישמ","אנליסט","אנרכיסט","אסטרולוג","אסיאת","אפריק(נ|א)","אצנ","אקדמ(א?)","אקטואל","אקטיביסט","אקרא","ארטיסט","אשכנז","אתאיסט","אתיופ","בוגדנ","בולגר","בטחונ","ביביסט","ב(י?)דיונ","בינונ","בינלאומ","בל(א?)גניסט","בלוגר","בלונד","במא","ברב(א?)ר","ברונט","בריט","ברמנ","ג".concat(l,"ובניק"),"ג".concat(l,"ינג").concat(l),"גות","גיטריסט","גר(א?)פ","גרמנ","גרפיקא","דברנ","דוקטורנט","דושבג","דיאטנ","דינ(א?)מ","(י?)הוד","הי(פ?)סטר","היפ","הססנ","הנדסא","הרמונ","וטרינר","זכא","חבר(ו?)ת","חובבנ","חולמנ","חושנ","חילונ","חי(ו|נ)נ","חיפא","חמדנ","חרד","חרד(ת?)","חרמנ","חשמלא","טבח","טבעונ","טורק","טיפוגרפ","טכנא","טרוריסט","טרמפיסט","טרנס","ידידות","יוגיסט","יוונ","יורקר","יזמ","ימא","ימ(י?)נ","ירושלמ","ישראל","כימא","כלכלנ","כרונ","לבנונ","לוחמנ","ליברל","ליכודניק","מאסטר","מוזיק(ל|א)","מומח","מזוכיסט","מזרח","מחזא","מטאליסט","מטרידנ","מילואימניק","מיליארדר","מיליונר","מכונא","מלאכ","מלצר","מפסידנ","מצליחנ","מצפונ","מקצוע(נ?)","מרדנ","מרקסיסט","נגר","נובוריש","נודיסט","נודניק","נוצר","נורא","נורווג","נטורופת","נרקומנ","ס(א?)דיסט","ס(א?)ח","סדרנ","סהרור","סוליד(ר?)","סוציאליסט","סטודנט","סטרייט","סמכות","סנדלר","סנוב","ססגונ","ספונטנ","ספורטיב","ספציפ","ספרד","סקסולוג","סרב","סרטט","עירונ","עיתונא","עממ","עניינ","ענק","עסיס","עקרונ","ערב","ערס","פאנקיסט","פדופיל","פוליטיקא","פולנ","פופול(א?)ר","פופוליסט","פחדנ","פטריוט","פילוסופ","פיזיוטרפיסט","פמיניסט","פסיכופת","פסנתרנ","פציפיסט","פריק","פרופסור","פרסומא","פקח","פשיסט","צבע","צבעונ","צי(ו?)נ","ציבור","ציפלונ","צמחונ","צפונ","צרפת","קדמונ","קוויר","קומוניסט","קומיק(ס?)א","קונדיטור","קוסמטיקא","קופא","קוקסינל","קטלנ","קטנונ","קיבוצניק","קיצונ","קלאס","קלדנ","קלפטומנ","קניינ","קפדנ","קפיטליסט","קריקטוריסט","קצב","רבנ","רוחנ","רוס","רוקיסט","רמא","רפד","רקדנ","ש(ו?)ויונ","שאפתנ","שוביניסט","שווד","שוויצר","שחיינ","שחקנ","שלומיאל","שמאלנ","שמנמנ","שמרנ","שפ","שק(ר|ד)נ","שרמנט","תורכ","תזונא","תחמנ","תסריטא","תצפיתנ","תקציבא","תרבות"];function p(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return m(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?m(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,e=new Array(n);c<n;c++)e[c]=t[c];return e}var g="׈";const b=[].concat(p(y),p(["השב","הקשב","הפעל","הרגש","התמד","הרם","הדגם","הלבש","הרבץ","הקלד"].map((function(t){var n,c=t.slice(0,t.length-1),a=t.slice(t.length-1),s="(".concat(a,")");return o.includes(a)&&(s="(".concat(r(a),"|").concat(e[n=a]||n,")")),["".concat(c).concat(s).concat(i,"י").concat(h),"".concat(c).concat(r(a)),"".concat(c,"י").concat(a,"י")]}))),p(v.map((function(t){var n=t;return t.includes("(")&&(n=t.replace(new RegExp("\\(.*?\\)"),"$1")),["".concat(t,"ים").concat(i,"י?ות").concat(h),"".concat(n,"ים"),"".concat(n,"יות")]}))),[["(".concat(h,")(").concat(f,"{0,3})י").concat(i,"ת(").concat(f,"{2,})"),"$1$2י$3","$1$2ת$3"],["(".concat(h,")(").concat(f,"{0,3})ת").concat(i,"י(").concat(f,"{2,})"),"$1$2י$3","$1$2ת$3"],["ו".concat(i,"ה").concat(h),"ו","ה"],["ה".concat(i,"ו").concat(h),"ו","ה"],["(".concat(f,")").concat(i,"ה").concat(h),"$1".concat(g),"$1ה"],["(".concat(f,")ה?").concat(i,"תה").concat(h),"$1ה","$1תה"],["(".concat(f,")יו").concat(i,"י?ה").concat(h),"$1יו","$1יה"],["(".concat(f,")ה").concat(i,"ית").concat(h),"$1ה","$1ית"],["(".concat(f,")י").concat(i,"ות").concat(h),"$1י","$1ות"],["(".concat(f,")ות").concat(i,"י").concat(h),"$1י","$1ות"],["(".concat(f,")").concat(i,"ית").concat(h),"$1".concat(g),"$1ית"],["(".concat(f,")י").concat(i,"תי").concat(h),"$1י","$1תי"],["(".concat(f,"{4,})אים").concat(i,"י?ות").concat(h),"$1אים","$1איות"],["(י)?ים".concat(i,"?(י)?ות").concat(h),"$1ים","$1$2ות"],["(י)?ות".concat(i,"?י?ים").concat(h),"$1ים","$1ות"],["י".concat(i,"ות").concat(h),"י","ות"],["(".concat(f,")ה").concat(i,"י").concat(h),"$1ה","$1י"],["(".concat(f,"{2,})ו(").concat(f,")").concat(i,"י").concat(h),"$1ו$2","$1$2י"],["(".concat(f,")").concat(i,"י").concat(h),"$1".concat(g),"$1י"],["(".concat(f,")(ה)?").concat(i,"ת").concat(h),"$1$2".concat(g),"$1ת"],["(".concat(f,")ם").concat(i,"?ן").concat(h),"$1ם","$1ן"],["(".concat(f,")ן").concat(i,"?ם").concat(h),"$1ם","$1ן"],["ה(".concat(f,"+)י(").concat(f,")ו").concat(i,"נה"),"ה$1י$2ו","ה$1$2נה"],["(".concat(f,"+)ו").concat(i,"ת(").concat(f,"+)נה"),"$1ו","ת$2נה"],["ת(".concat(f,"+)ו").concat(i,"נה"),"ת$1ו","ת$1נה"],["(".concat(f,")").concat(i,"נה").concat(h),"$1".concat(g),"$1נה"],["(".concat(f,"+)\\(([ותי]{1,3})\\)([יוהםן]{1,3})").concat(h),"$1$3","$1$2$3"],["(".concat(f,"+)י\\(י\\)(").concat(f,"*)(").concat(d,")").concat(h),"$1י$2$3","$1יי$2$3"],["(".concat(f,"+)\\(י\\)י(").concat(f,"*)(").concat(d,")").concat(h),"$1י$2$3","$1יי$2$3"],["\\(א\\)נשים".concat(h),"אנשים","נשים"],["(".concat(f,"+)ב\\(ת\\)").concat(h),"$1ב","$1בת"],["\\[([^|]*?)\\|([^|]*?)\\|([^|]*?)\\]","$1","$2","$3"],["\\[([^|]*?)\\|([^|]*?)\\]","$1","$2",!0],["ץ(?=".concat(s,")"),"צ","צ"],["ך(?=".concat(s,")"),"כ","כ"],["ן(?=".concat(s,")"),"נ","נ"],["ם(?=".concat(s,")"),"מ","מ"],["ף(?=".concat(s,")"),"פ","פ"],["([^".concat(l,"]+)צ").concat(g),"$1ץ","$1ץ"],["([^".concat(l,"]+)כ").concat(g),"$1ך","$1ך"],["([^".concat(l,"]+)נ").concat(g),"$1ן","$1ן"],["([^".concat(l,"]+)מ").concat(g),"$1ם","$1ם"],["([^".concat(l,"]+)פ").concat(g),"$1ף","$1ף"],["".concat(g),"",""]]).map((function(t){return t[0]=new RegExp(t[0],"g"),!0===t[3]&&(t[3]="".concat(t[1],"/").concat(t[2])),t}));function E(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,e=new Array(n);c<n;c++)e[c]=t[c];return e}var T="__IVRITA_PROTECTED__",N=new RegExp("\\{".concat(T,":(\\d+):").concat(T,"\\}"),"g");function x(t,n){for(var c=0;c<n.length;c++){var e=n[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var w=function(){function t(n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.node={},this.originalText="",this.currentMode=!1,n instanceof Node&&n.nodeType===Node.TEXT_NODE&&(this.constructor.instances.has(n)?this.constructor.instances.get(n):(this.constructor.instances.set(n,this),this.node=n,void(this.originalText=n.textContent)))}var n,c;return n=t,(c=[{key:"setMode",value:function(t){var n;this.currentMode=t,(n=0===t?this.originalText:3!==t||this.originalText.includes("{")||this.originalText.includes("[")?function(t,n,c){var e=t,o=[];e.includes("{")&&(e=e.replace(/\{(.*?)\}/g,(function(t,n,c){return o[c]=n,"{".concat(T,":").concat(c,":").concat(T,"}")})));return b.forEach((function(t){var c,o,a,r=(a=4,function(t){if(Array.isArray(t))return t}(o=t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var c=[],e=!0,o=!1,a=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done)&&(c.push(r.value),!n||c.length!==n);e=!0);}catch(t){o=!0,a=t}finally{try{e||null==i.return||i.return()}finally{if(o)throw a}}return c}}(o,a)||function(t,n){if(t){if("string"==typeof t)return E(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?E(t,n):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],s=r[1],u=r[2],l=r[3];switch(n){case 2:c=u;break;case 1:c=s;break;case 3:default:l&&(c=l)}void 0!==c&&(e=e.replace(i,c))})),o.length&&(e=e.replace(N,(function(t,n){var c=parseInt(n,10);return o[c]?o[c]:""}))),e}(this.originalText,t):this.originalText)!==this.node.data&&(this.node.data=n)}}])&&x(n.prototype,c),t}();function j(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function A(t,n){for(var c=0;c<n.length;c++){var e=n[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}w.instances=new WeakMap;var M=new RegExp(s),O=new RegExp($),S=function(){function t(){var n=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(j(this,t),this.nodes=new Set,this.elements=[],this.mode=void 0,this.fontFeatureSettings=void 0,c instanceof NodeList)this.elements=Array.from(c);else if(c instanceof HTMLElement)this.elements=[c];else{if(!("function"==typeof jQuery&&c instanceof jQuery&&"function"==typeof c.toArray))throw new Error("Passed argument is not an HTMLElement.");this.elements=c.toArray()}if(1===this.elements.length&&this.constructor.instances.has(this.elements[0])){var o=this.constructor.instances.get(this.elements[0]);return o.registerTextNodes(this.elements[0]),o}this.observer=new MutationObserver(this.onElementChange.bind(this)),this.elements.forEach((function(t){n.observer.observe(t,{childList:!0,subtree:!0,characterData:!0}),n.constructor.instances.set(t,n),n.registerTextNodes(t)})),void 0!==e?this.setMode(e):this.constructor.defaultMode&&this.setMode(this.constructor.defaultMode)}var n,c,e;return n=t,e=[{key:"setDefaultMode",value:function(t){this.defaultMode=t}},{key:"setMode",value:function(t){this.instances.forEach((function(n){return n.setMode(t)}))}},{key:"acceptNodeFilter",value:function(t){return t.nodeType===Node.TEXT_NODE&&(!!w.instances.has(t)||t.textContent.trim().length>0&&M.test(t.textContent)&&O.test(t.textContent))}}],(c=[{key:"destroy",value:function(){var t=this;this.setMode(0),this.setFontFeatureSettings(!1),this.observer&&this.observer.disconnect(),this.nodes.clear(),this.elements.forEach((function(n){t.constructor.instances.delete(n)}))}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return 3===t?this.setFontFeatureSettings(!0):3===this.mode&&this.setFontFeatureSettings(!1),this.constructor.GENDERS.includes(t)?(this.mode=t,this.nodes.forEach((function(n){return n.setMode(t)})),this):this}},{key:"registerTextNodes",value:function(t){for(var n,c=this,e=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:function(t){return c.constructor.acceptNodeFilter(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n=e.nextNode();)this.nodes.add(new w(n))}},{key:"onElementChange",value:function(t){var n=this;t.forEach((function(t){if("childList"===t.type){var c=Array.from(t.addedNodes),e=Array.from(t.removedNodes);c.length===e.length?e.forEach((function(t,n){if(t.nodeType===Node.TEXT_NODE&&w.instances.has(t)&&c[n].nodeType===Node.TEXT_NODE){var e=w.instances.get(t);e.node=c[n],w.instances.set(c[n],e),w.instances.delete(t)}})):c.forEach((function(t){t.nodeType===Node.TEXT_NODE&&n.constructor.acceptNodeFilter(t)?n.nodes.add(new w(t)):t.childNodes.length>0&&n.registerTextNodes(t)}))}}))}},{key:"setFontFeatureSettings",value:function(t){return this.fontFeatureSettings=t,this.elements.forEach((function(n){var c=n.style.fontFeatureSettings.slice().replace("normal","");t?c.includes("titl")||(c&&(c+=", "),c+='"titl"'):c.includes("titl")&&(c=c.replace(/(, )?"?'?titl"?'?/,"")),c||(c="normal"),n.style.fontFeatureSettings=c})),this}}])&&A(n.prototype,c),e&&A(n,e),t}();S.GENDERS=[0,1,2,3],S.MALE=1,S.FEMALE=2,S.NEUTRAL=3,S.ORIGINAL=0,S.instances=new Map,S.defaultMode=void 0,S.TextNode=w,"function"==typeof jQuery&&(jQuery.fn.ivrita=function(t){return new S(this,t)})}},n={};function c(e){if(n[e])return n[e].exports;var o=n[e]={exports:{}};return t[e](o,o.exports,c),o.exports}return c.d=(t,n)=>{for(var e in n)c.o(n,e)&&!c.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},c.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),c(540)})().default}));