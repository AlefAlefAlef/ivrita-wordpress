!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Ivrita=n():t.Ivrita=n()}(self,(function(){return(()=>{"use strict";var t={540:(t,n,c)=>{c.d(n,{default:()=>k});var e={ן:"נ",ף:"פ",ך:"כ",ם:"מ",ץ:"צ"},o=Object.keys(e).concat(Object.values(e)),a=Object.keys(e),r=function(t){return Object.keys(e).find((function(n){return e[n]===t}))||t},i="[\\\\/.]",s="[א-ת]",u="[\\\\./—־-]",l="'‎\"”׳״",f="[א-ת".concat(l,"]"),$="[".concat(a,"]"),d="(?=^|$|\b|[^א-ת".concat(l,"?֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ])"),h=[u,"\\[","\\{","\\(","םן","ןם","יםות","ותים"].join("|"),y=[["א".concat(u,"נשים"),"אנשים","נשים"],["א".concat(u,"נשי(?!ם)"),"אנשי","נשות"],["את".concat(i,"ה"),"אתה","את"],["איש".concat(i,"(?:אש)?ת"),"איש","אשת"],["אשת".concat(i,"איש"),"איש","אשת"],["(גבר|איש)".concat(i,"אישה"),"$1","אישה"],["אח".concat(i,"ות").concat(d),"אח","אחות"],["ל(ו|ה)".concat(i,"ל(ו|ה)").concat(d),"לו","לה"],["ב(ן|ת)".concat(i,"ב(ן|ת)").concat(d),"בן","בת"],["ה(ו|י)א".concat(i,"ה(ו|י)א").concat(d),"הוא","היא"],["אנשי".concat(i,"ות").concat(d),"אנשי","נשות"],["מישהו".concat(i,"י").concat(d),"מישהו","מישהי"],["אחד".concat(i,"(אח)?ת").concat(d),"אחד","אחת"],["אחת".concat(i,"(אח)?ד").concat(d),"אחד","אחת"],["צור".concat(i,"י").concat(d),"צור","צרי"]],p=["יזמ","מומח","ישראל","מצר","אוסטרל","אקדמ","סטודנט","מאסטר(א?)נט","אדריכל","ירושלמ","תל([".concat("—־-","]| )אביב"),"יהוד","ערב","אשכנז","מזרח","רוס","ספרד","סלאב","צרפת","ברב(א?)ר","מלאכ","היפסטר","ס(א?)ח","ח([".concat(l,"])כ"),"משת([".concat(l,"])פ"),"מנכ([".concat(l,"])ל"),"עו([".concat(l,"])ד"),"עו([".concat(l,"])ס"),"רו([".concat(l,"])ח")];function v(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return m(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?m(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,e=new Array(n);c<n;c++)e[c]=t[c];return e}var g="׈";const b=[].concat(v(y),v(["השב","הקשב","הפעל","הרגש","התמד","הרם","הדגם","הלבש","הרבץ"].map((function(t){var n,c=t.slice(0,t.length-1),a=t.slice(t.length-1),s="(".concat(a,")");return o.includes(a)&&(s="(".concat(r(a),"|").concat(e[n=a]||n,")")),["".concat(c).concat(s).concat(i,"י").concat(d),"".concat(c).concat(r(a)),"".concat(c,"י").concat(a,"י")]}))),v(p.map((function(t){var n=t;return t.includes("(")&&(n=t.replace(new RegExp("\\(.*?\\)"),"$1")),["".concat(t,"ים").concat(i,"י?ות").concat(d),"".concat(n,"ים"),"".concat(n,"יות")]}))),[["(".concat(d,")(").concat(f,"{0,3})י").concat(i,"ת(").concat(f,"{2,})"),"$1$2י$3","$1$2ת$3"],["(".concat(d,")(").concat(f,"{0,3})ת").concat(i,"י(").concat(f,"{2,})"),"$1$2י$3","$1$2ת$3"],["ו".concat(i,"ה").concat(d),"ו","ה"],["ה".concat(i,"ו").concat(d),"ו","ה"],["(".concat(f,")").concat(i,"ה").concat(d),"$1".concat(g),"$1ה"],["(".concat(f,")ה?").concat(i,"תה").concat(d),"$1ה","$1תה"],["(".concat(f,")יו").concat(i,"י?ה").concat(d),"$1יו","$1יה"],["(".concat(f,")ה").concat(i,"ית").concat(d),"$1ה","$1ית"],["(".concat(f,")י").concat(i,"ות").concat(d),"$1י","$1ות"],["(".concat(f,")ות").concat(i,"י").concat(d),"$1י","$1ות"],["(".concat(f,")").concat(i,"ית").concat(d),"$1".concat(g),"$1ית"],["(".concat(f,")י").concat(i,"תי").concat(d),"$1י","$1תי"],["(".concat(f,"{4,})אים").concat(i,"י?ות").concat(d),"$1אים","$1איות"],["(י)?ים".concat(i,"?(י)?ות").concat(d),"$1ים","$1$2ות"],["(י)?ות".concat(i,"?י?ים").concat(d),"$1ים","$1ות"],["י".concat(i,"ות").concat(d),"י","ות"],["(".concat(f,")ה").concat(i,"י").concat(d),"$1ה","$1י"],["(".concat(f,"{2,})ו(").concat(f,")").concat(i,"י").concat(d),"$1ו$2","$1$2י"],["(".concat(f,")").concat(i,"י").concat(d),"$1".concat(g),"$1י"],["(".concat(f,")(ה)?").concat(i,"ת").concat(d),"$1$2".concat(g),"$1ת"],["(".concat(f,")ם").concat(i,"?ן").concat(d),"$1ם","$1ן"],["(".concat(f,")ן").concat(i,"?ם").concat(d),"$1ם","$1ן"],["ה(".concat(f,"+)י(").concat(f,")ו").concat(i,"נה"),"ה$1י$2ו","ה$1$2נה"],["(".concat(f,"+)ו").concat(i,"ת(").concat(f,"+)נה"),"$1ו","ת$2נה"],["ת(".concat(f,"+)ו").concat(i,"נה"),"ת$1ו","ת$1נה"],["(".concat(f,")").concat(i,"נה").concat(d),"$1".concat(g),"$1נה"],["(".concat(f,"+)\\(([ותי]{1,3})\\)([יוהםן]{1,3})").concat(d),"$1$3","$1$2$3"],["(".concat(f,"+)י\\(י\\)(").concat(f,"*)(").concat($,")").concat(d),"$1י$2$3","$1יי$2$3"],["(".concat(f,"+)\\(י\\)י(").concat(f,"*)(").concat($,")").concat(d),"$1י$2$3","$1יי$2$3"],["\\(א\\)נשים".concat(d),"אנשים","נשים"],["(".concat(f,"+)ב\\(ת\\)").concat(d),"$1ב","$1בת"],["\\[([^|]*?)\\|([^|]*?)\\|([^|]*?)\\]","$1","$2","$3"],["\\[([^|]*?)\\|([^|]*?)\\]","$1","$2",!0],["ץ(?=".concat(s,")"),"צ","צ"],["ך(?=".concat(s,")"),"כ","כ"],["ן(?=".concat(s,")"),"נ","נ"],["ם(?=".concat(s,")"),"מ","מ"],["ף(?=".concat(s,")"),"פ","פ"],["([^".concat(l,"]+)צ").concat(g),"$1ץ","$1ץ"],["([^".concat(l,"]+)כ").concat(g),"$1ך","$1ך"],["([^".concat(l,"]+)נ").concat(g),"$1ן","$1ן"],["([^".concat(l,"]+)מ").concat(g),"$1ם","$1ם"],["([^".concat(l,"]+)פ").concat(g),"$1ף","$1ף"],["".concat(g),"",""]]).map((function(t){return t[0]=new RegExp(t[0],"g"),!0===t[3]&&(t[3]="".concat(t[1],"/").concat(t[2])),t}));function E(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,e=new Array(n);c<n;c++)e[c]=t[c];return e}var x="__IVRITA_PROTECTED__",T=new RegExp("\\{".concat(x,":(\\d+):").concat(x,"\\}"),"g");function w(t,n){for(var c=0;c<n.length;c++){var e=n[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var j=function(){function t(n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.node={},this.originalText="",this.currentMode=!1,n instanceof Node&&n.nodeType===Node.TEXT_NODE&&(this.constructor.instances.has(n)?this.constructor.instances.get(n):(this.constructor.instances.set(n,this),this.node=n,void(this.originalText=n.textContent)))}var n,c;return n=t,(c=[{key:"setMode",value:function(t){var n;(n=0===t?this.originalText:3!==t||this.originalText.includes("{")||this.originalText.includes("[")?function(t,n,c){var e=t,o=[];e.includes("{")&&(e=e.replace(/\{(.*?)\}/g,(function(t,n,c){return o[c]=n,"{".concat(x,":").concat(c,":").concat(x,"}")})));return b.forEach((function(t){var c,o,a,r=(a=4,function(t){if(Array.isArray(t))return t}(o=t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var c=[],e=!0,o=!1,a=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done)&&(c.push(r.value),!n||c.length!==n);e=!0);}catch(t){o=!0,a=t}finally{try{e||null==i.return||i.return()}finally{if(o)throw a}}return c}}(o,a)||function(t,n){if(t){if("string"==typeof t)return E(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?E(t,n):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],s=r[1],u=r[2],l=r[3];switch(n){case 2:c=u;break;case 1:c=s;break;case 3:default:l&&(c=l)}void 0!==c&&(e=e.replace(i,c))})),o.length&&(e=e.replace(T,(function(t,n){var c=parseInt(n,10);return o[c]?o[c]:""}))),e}(this.originalText,t):this.originalText)!==this.node.data&&(this.node.data=n)}}])&&w(n.prototype,c),t}();function S(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function A(t,n){for(var c=0;c<n.length;c++){var e=n[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}j.instances=new WeakMap;var O=new RegExp(s),F=new RegExp(h),k=function(){function t(){var n=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if(S(this,t),this.nodes=new Set,this.elements=[],c instanceof NodeList)this.elements=Array.from(c);else if(c instanceof HTMLElement)this.elements=[c];else{if(!("function"==typeof jQuery&&c instanceof jQuery&&"function"==typeof c.toArray))throw new Error("Passed argument is not an HTMLElement. Did you mean: 'document.querySelector(\"".concat(c.toString(),"\")'?"));this.elements=c.toArray()}if(1===this.elements.length&&this.constructor.instances.has(this.elements[0])){var e=this.constructor.instances.get(this.elements[0]);return e.registerTextNodes(this.elements[0]),e}this.elements.forEach((function(t){n.constructor.instances.set(t,n),n.registerTextNodes(t)})),this.setFontFeatureSettings(!0)}var n,c;return n=t,(c=[{key:"destroy",value:function(){var t=this;this.setMode(0),this.setFontFeatureSettings(!1),this.observer&&this.observer.disconnect(),this.nodes.clear(),this.elements.forEach((function(n){t.constructor.instances.delete(n)}))}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return this.mode=t,this.nodes.forEach((function(n){return n.setMode(t)})),this}},{key:"registerTextNodes",value:function(t){for(var n,c=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:function(t){return j.instances.has(t)||(t.textContent.trim().length>0&&O.test(t.textContent)&&F.test(t.textContent)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)}});n=c.nextNode();)this.nodes.add(new j(n))}},{key:"setFontFeatureSettings",value:function(t){return this.elements.forEach((function(n){var c=n.style.fontFeatureSettings.slice().replace("normal","");t?c.includes("titl")||(c&&(c+=", "),c+='"titl"'):c.includes("titl")&&(c=c.replace(/(, )?"?'?titl"?'?/,"")),c||(c="normal"),n.style.fontFeatureSettings=c})),this}},{key:"getFontFeatureSettings",value:function(){return this.elements.filter((function(t){return t.style.fontFeatureSettings.includes("titl")})).length}}])&&A(n.prototype,c),t}();k.GENDERS=[0,1,2,3],k.MALE=1,k.FEMALE=2,k.NEUTRAL=3,k.ORIGINAL=0,k.instances=new WeakMap,"function"==typeof jQuery&&(jQuery.fn.ivrita=function(t){var n=new k(this);return void 0!==t&&n.setMode(t),n})}},n={};function c(e){if(n[e])return n[e].exports;var o=n[e]={exports:{}};return t[e](o,o.exports,c),o.exports}return c.d=(t,n)=>{for(var e in n)c.o(n,e)&&!c.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},c.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),c(540)})().default}));