!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Ivrita=e():t.Ivrita=e()}(self,(function(){return(()=>{"use strict";var t={494:(t,e,n)=>{n.d(e,{default:()=>z});var o={ן:"נ",ף:"פ",ך:"כ",ם:"מ",ץ:"צ"},c=Object.keys(o).concat(Object.values(o)),r=Object.keys(o),a=function(t){return Object.keys(o).find((function(e){return o[e]===t}))||t},i=function(t){return o[t]||t},u="[\\\\/.]",s="[א-ת]",f="[\\\\./—־-]",l="'‎\"”׳״",d="[א-ת".concat(l,"]"),h="[".concat(r,"]"),y="^|$|\b|[^א-ת֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ]",p="(?=".concat(y,")"),b="(?:".concat(y,")"),v=[f,"\\[","\\{","\\(","םן","ןם","יםות","ותים"].join("|"),$=[["א".concat(f,"נשים"),"אנשים","נשים"],["א".concat(f,"נשות"),"אנשי","נשות"],["את".concat(u,"ה"),"אתה","את"],["איש".concat(u,"(?:אש)?ת"),"איש","אשת"],["אשת".concat(u,"איש"),"איש","אשת"],["(גבר|איש)".concat(u,"אישה"),"$1","אישה"],["אח".concat(u,"ות").concat(p),"אח","אחות"],["ל(ו|ה)".concat(u,"ל(ו|ה)").concat(p),"לו","לה"],["ב(ן|ת)".concat(u,"ב(ן|ת)").concat(p),"בן","בת"],["ה(ו|י)א".concat(u,"ה(ו|י)א").concat(p),"הוא","היא"],["אנשי".concat(u,"ות").concat(p),"אנשי","נשות"],["מישהו".concat(u,"י").concat(p),"מישהו","מישהי"],["אחד".concat(u,"(אח)?ת").concat(p),"אחד","אחת"],["אחת".concat(u,"(אח)?ד").concat(p),"אחד","אחת"],["יקיר(י?)".concat(u,"תי").concat(p),"יקירי","יקירתי"],["אהוב(י?)".concat(u,"תי").concat(p),"אהובי","אהובתי"],["סב\\(ת\\)א","סבא","סבתא"]],m=["(א|ס)ובי(י?)קטיב","אחמ([".concat(l,"]?)ש"),"ח([".concat(l,"])כ"),"מ([".concat(l,"])פ"),"מנכ([".concat(l,"]?)ל"),"מפא([".concat(l,"]?)יניק"),"משת([".concat(l,"]?)פ"),"עו([".concat(l,"])(ס|ד)"),"רו([".concat(l,"])ח"),"רשג([".concat(l,"]?)ד"),"א(י?)כפת","אביב","אח","אגרונומ","אדריכל","אוטיסט","אוסטר(ל?)","אופטימ","אחרא","אחיינ","איטלק","אינדיבידואליסט","אירונ","אירופא","אכזר","אלגנט","אלכוהוליסט","אלמונ","אמית","אמריק(א|נ)","אנאלפבית","אנגל","אנוש","אנטישמ","אנליסט","אנרכיסט","אסטרולוג","אסיאת","אפריק(נ|א)","אצנ","אקדמ(א?)","אקטואל","אקטיביסט","אקרא","ארטיסט","אשכנז","אתאיסט","אתיופ","בוגדנ","בולגר","בטחונ","ביביסט","ב(י?)דיונ","בינונ","בינלאומ","בל(א?)גניסט","בלוגר","בלונד","במא","ברב(א?)ר","ברונט","בריט","ברמנ","ג".concat(l,"ובניק"),"ג".concat(l,"ינג").concat(l),"גות","גיטריסט","גר(א?)פ","גרמנ","גרפיקא","דברנ","דוקטורנט","דושבג","דיאטנ","דינ(א?)מ","(י?)הוד","הי(פ?)סטר","היפ","הססנ","הנדסא","הרמונ","וטרינר","זכא","חבר(ו?)ת","חובבנ","חולמנ","חושנ","חילונ","חי(ו|נ)נ","חיפא","חמדנ","חרד","חרד(ת?)","חרמנ","חשמלא","טבח","טבעונ","טורק","טיפוגרפ","טכנא","טרוריסט","טרמפיסט","טרנס","ידידות","יוגיסט","יוונ","יורקר","יזמ","ימא","ימ(י?)נ","ירושלמ","ישראל","כימא","כלכלנ","כרונ","לבנונ","לוחמנ","ליברל","ליכודניק","מאסטר","מוזיק(ל|א)","מומח","מזוכיסט","מזרח","מחזא","מטאליסט","מטרידנ","מילואימניק","מיליארדר","מיליונר","מכונא","מלאכ","מלצר","מפסידנ","מצליחנ","מצפונ","מקצוע(נ?)","מרדנ","מרקסיסט","נגר","נובוריש","נודיסט","נודניק","נוצר","נורא","נורווג","נטורופת","נרקומנ","ס(א?)דיסט","ס(א?)ח","סדרנ","סהרור","סוליד(ר?)","סוציאליסט","סטודנט","סטרייט","סמכות","סנדלר","סנוב","ססגונ","ספונטנ","ספורטיב","ספציפ","ספרד","סקסולוג","סרב","סרטט","עירונ","עיתונא","עממ","עניינ","ענק","עסיס","עקרונ","ערב","ערס","פאנקיסט","פדופיל","פוליטיקא","פולנ","פופול(א?)ר","פופוליסט","פחדנ","פטריוט","פילוסופ","פיזיוטרפיסט","פמיניסט","פסיכופת","פסנתרנ","פציפיסט","פריק","פרופסור","פרסומא","פקח","פשיסט","צבע","צבעונ","צי(ו?)נ","ציבור","ציפלונ","צמחונ","צפונ","צרפת","קדמונ","קוויר","קומוניסט","קומיק(ס?)א","קונדיטור","קוסמטיקא","קופא","קוקסינל","קטלנ","קטנונ","קיבוצניק","קיצונ","קלאס","קלדנ","קלפטומנ","קניינ","קפדנ","קפיטליסט","קריקטוריסט","קצב","רבנ","רוחנ","רוס","רוקיסט","רמא","רפד","רקדנ","ש(ו?)ויונ","שאפתנ","שוביניסט","שווד","שוויצר","שחיינ","שחקנ","שלומיאל","שמאלנ","שמנמנ","שמרנ","שפ","שק(ר|ד)נ","שרמנט","תורכ","תזונא","תחמנ","תסריטא","תצפיתנ","תקציבא","תרבות"];function g(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var T="׈",w="׉",O=function(t,e){var n=t.slice(0,t.length-1),o=t.slice(t.length-1),r="(".concat(o,")");return c.includes(o)&&(r="(".concat(a(o),"|").concat(i(o),")")),["".concat(n).concat(r).concat(u,"י").concat(p),"".concat(n).concat(a(o)),"".concat(n).concat(e?"י":"").concat(i(o),"י")]};const j=[].concat(g($),g(["האר","הבא","הגב","הדגם","הדלק","הוסף","הועל","הורד","הזמן","הזן","הכנס","הלבש","המלץ","המשך","הסר","הסתר","הפעל","הפקד","הצג","הקלד","הקלק","הקש","הקשב","הרגש","הרם","הרעף","השב","השלם","השתק","התמד","התקן"].map((function(t){return O(t,!0)}))),g(["קום","רוץ","עופ","שוב","זוז","טוס","שוט","בוא"].map((function(t){return O(t,!1)}))),g(m.map((function(t){var e=t;return t.includes("(")&&(e=t.replace(new RegExp("\\(.*?\\)"),"$2")),["(".concat(b,")").concat(t,"ים").concat(u,"י?ות").concat(p),"$1".concat(e,"ים"),"$1".concat(e,"יות")]}))),[["(".concat(p,")(").concat(d,"{0,3})י").concat(u,"ת(").concat(d,"{2,})"),"$1$2י$3","$1$2ת$3"],["(".concat(p,")(").concat(d,"{0,3})ת").concat(u,"י(").concat(d,"{2,})"),"$1$2י$3","$1$2ת$3"],["ו".concat(u,"ה").concat(p),"ו","ה"],["ה".concat(u,"ו").concat(p),"ו","ה"],["(".concat(d,")").concat(u,"ה").concat(p),"$1".concat(T),"$1".concat(w,"ה")],["(".concat(d,")ה?").concat(u,"תה").concat(p),"$1ה","$1תה"],["(".concat(d,")יו").concat(u,"י?ה").concat(p),"$1יו","$1יה"],["(".concat(d,")ה").concat(u,"ית").concat(p),"$1ה","$1ית"],["(".concat(d,")(ו?)י").concat(u,"ות").concat(p),"$1$2י","$1ות"],["(".concat(d,")ות").concat(u,"י").concat(p),"$1י","$1ות"],["(".concat(d,")").concat(u,"ית").concat(p),"$1".concat(T),"$1".concat(w,"ית")],["(".concat(d,")י").concat(u,"תי").concat(p),"$1י","$1תי"],["(".concat(d,"{4,})אים").concat(u,"י?ות").concat(p),"$1אים","$1איות"],["(".concat(d,")ווים").concat(u,"?ות").concat(p),"$1ווים","$1וות"],["(".concat(d,")וות").concat(u,"?ים").concat(p),"$1ווים","$1וות"],["(".concat(d,")(י)?ים").concat(u,"?(י)?ות").concat(p),"$1$2ים","$1$2$3ות"],["(".concat(d,")(י)?ות").concat(u,"י?ים").concat(p),"$1$2ים","$1$2ות"],["(".concat(d,")י").concat(u,"ות").concat(p),"$1י","$1ות"],["(".concat(d,")ה").concat(u,"י").concat(p),"$1ה","$1י"],["(".concat(d,"+)\\(י\\)(").concat(d,")").concat(u,"י").concat(p),"$1$2","$1י$2י"],["(".concat(s,")ו(").concat(d,")").concat(u,"י").concat(p),"$1ו$2","$1$2".concat(w,"י")],["(".concat(d,")").concat(u,"י").concat(p),"$1".concat(T),"$1".concat(w,"י")],["(".concat(d,")(ה)?").concat(u,"ת").concat(p),"$1$2".concat(T),"$1".concat(w,"ת")],["(".concat(d,")ם").concat(u,"?ן").concat(p),"$1ם","$1ן"],["(".concat(d,")ן").concat(u,"?ם").concat(p),"$1ם","$1ן"],["ה(".concat(d,"+)י(").concat(d,")ו").concat(u,"נה").concat(p),"ה$1י$2ו","ה$1$2נה"],["(".concat(d,"+)ו").concat(u,"ת(").concat(d,"+)נה").concat(p),"$1ו","ת$2נה"],["ת(".concat(d,"+)ו").concat(u,"נה").concat(p),"ת$1ו","ת$1נה"],["(".concat(d,"+)ו").concat(u,"נה").concat(p),"$1ו","$1נה"],["(".concat(d,"+)\\(([ותי]{1,3})\\)([יוהםן]{1,3})").concat(p),"$1$3","$1$2$3"],["(".concat(d,"+)י\\(י\\)(").concat(d,"*)(").concat(h,")").concat(p),"$1י$2$3","$1יי$2$3"],["(".concat(d,"+)\\(י\\)י(").concat(d,"*)(").concat(h,")").concat(p),"$1י$2$3","$1יי$2$3"],["\\(א\\)נשים".concat(p),"אנשים","נשים"],["(".concat(d,"+)ב\\(ת\\)").concat(p),"$1ב","$1בת"],["\\[([^|]*?)\\|([^|]*?)\\|([^|]*?)\\]","$1","$2","$3"],["\\[([^|]*?)\\|([^|]*?)\\]","$1","$2",!0],["ץ".concat(w),"צ","צ"],["ך".concat(w),"כ","כ"],["ן".concat(w),"נ","נ"],["ם".concat(w),"מ","מ"],["ף".concat(w),"פ","פ"],["([^".concat(l,"]+)צ").concat(T),"$1ץ","$1ץ"],["([^".concat(l,"]+)כ").concat(T),"$1ך","$1ך"],["([^".concat(l,"]+)נ").concat(T),"$1ן","$1ן"],["([^".concat(l,"]+)מ").concat(T),"$1ם","$1ם"],["([^".concat(l,"]+)פ").concat(T),"$1ף","$1ף"],["[".concat(T).concat(w,"]"),"",""]]).map((function(t){return t[0]=new RegExp(t[0],"g"),!0===t[3]&&(t[3]="".concat(t[1],"/").concat(t[2])),t}));function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var A="__IVRITA_PROTECTED__",N=new RegExp("\\{".concat(A,":(\\d+):").concat(A,"\\}"),"g");function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _=new Error("Incompatible node passed to the node constructor"),M=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalText="",this.currentMode=!1,t.instances.has(e))return t.instances.get(e);t.instances.set(e,this)}var e,n;return e=t,(n=[{key:"init",value:function(){this.originalText=this.getValue()}},{key:"setMode",value:function(t){var e;this.currentMode=t,(e=0===t?this.originalText:3!==t||this.originalText.includes("{")||this.originalText.includes("[")?function(t,e,n){var o=t,c=[];o.includes("{")&&(o=o.replace(/\{(.*?)\}/g,(function(t,e,n){return c[n]=e,"{".concat(A,":").concat(n,":").concat(A,"}")})));return j.forEach((function(t){var n,c,r,a=(r=4,function(t){if(Array.isArray(t))return t}(c=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,c=!1,r=void 0;try{for(var a,i=t[Symbol.iterator]();!(o=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){c=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(c)throw r}}return n}}(c,r)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(c,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],u=a[1],s=a[2],f=a[3];switch(e){case 2:n=s;break;case 1:n=u;break;case 3:default:f&&(n=f)}void 0!==n&&(o=o.replace(i,n))})),c.length&&(o=o.replace(N,(function(t,e){var n=parseInt(e,10);return c[n]?c[n]:""}))),o}(this.originalText,t):this.originalText)!==this.getValue()&&this.setValue(e)}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t){this.value=t}}])&&x(e.prototype,n),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}M.instances=new WeakMap;var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(a,t);var e,n,o,c,r=(o=a,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=I(o);if(c){var n=I(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function a(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),!t)return C(e,!1);if(!(t instanceof Attr))throw _;return(e=r.call(this,t)).attr={},e.attr=t,e.currentMode||e.init(),e}return e=a,(n=[{key:"getValue",value:function(){return this.attr.value}},{key:"setValue",value:function(t){this.attr.value=t}}])&&R(e.prototype,n),a}(M);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(a,t);var e,n,o,c,r=(o=a,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=G(o);if(c){var n=G(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return H(this,t)});function a(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),!t)return H(e,!1);if(!(t instanceof Text))throw _;return(e=r.call(this,t)).node={},e.node=t,e.currentMode||e.init(),e}return e=a,(n=[{key:"getValue",value:function(){return this.node.data}},{key:"setValue",value:function(t){this.node.data=t}}])&&L(e.prototype,n),a}(M);function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var q=new RegExp(s),K=new RegExp(v),z=function(){function t(){var e,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(W(this,t),this.nodes=new Set,this.elements=[],this.mode=void 0,this.fontFeatureSettings=void 0,this.relavantAttributes=(U(e={"a, img, button, input":["title"]},"input:not([type=".concat(["submit","button","checkbox","radio","hidden","image","range","reset","file"].join("]):not([type="),"])"),["placeholder"]),U(e,"input[type=submit], input[type=button], input[type=reset]",["value"]),e),o instanceof NodeList)this.elements=Array.from(o);else if(o instanceof HTMLElement)this.elements=[o];else{if(!("function"==typeof jQuery&&o instanceof jQuery&&"function"==typeof o.toArray))throw new Error("Passed argument is not an HTMLElement.");this.elements=o.toArray()}if(1===this.elements.length&&this.constructor.instances.has(this.elements[0])){var r=this.constructor.instances.get(this.elements[0]);return r.registerTextObjects(this.elements[0]),r}this.observer=new MutationObserver(this.onElementChange.bind(this)),this.elements.forEach((function(t){n.observer.observe(t,{childList:!0,subtree:!0,characterData:!1}),n.constructor.instances.set(t,n),n.registerTextObjects(t)})),void 0!==c?this.setMode(c):this.constructor.defaultMode&&this.setMode(this.constructor.defaultMode)}var e,n,o;return e=t,o=[{key:"setDefaultMode",value:function(t){this.defaultMode=t}},{key:"setMode",value:function(t){this.instances.forEach((function(e){return e.setMode(t)}))}},{key:"acceptNodeFilter",value:function(t){if(M.instances.has(t))return NodeFilter.FILTER_ACCEPT;if(t.textContent.trim().length<=0)return NodeFilter.FILTER_REJECT;if(t.nodeType===Node.ELEMENT_NODE){if(t.dataset.ivritaDisable)return Node.FILTER_REJECT}else if(t.nodeType===Node.TEXT_NODE&&q.test(t.textContent)&&K.test(t.textContent))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}}],(n=[{key:"destroy",value:function(){var t=this;this.setMode(0),this.setFontFeatureSettings(!1),this.observer&&this.observer.disconnect(),this.nodes.clear(),this.elements.forEach((function(e){t.constructor.instances.delete(e)}))}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return 3===t?this.setFontFeatureSettings(!0):3===this.mode&&this.setFontFeatureSettings(!1),this.constructor.GENDERS.includes(t)?(this.mode=t,this.nodes.forEach((function(e){return e.setMode(t)})),this.dispatchModeChangedEvent(t),this):this}},{key:"dispatchModeChangedEvent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;this.elements.forEach((function(n){return n.dispatchEvent(new CustomEvent(t.constructor.EVENT_MODE_CHANGED,{bubbles:!0,detail:{mode:e}}))}))}},{key:"registerTextObjects",value:function(t){this.registerTextNodes(t),this.registerTextAttributes(t)}},{key:"registerTextNodes",value:function(t){for(var e,n=this,o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:function(t){return n.constructor.acceptNodeFilter(t)}});e=o.nextNode();)this.nodes.add(new X(e))}},{key:"registerTextAttributes",value:function(t){var e=this;Object.entries(this.relavantAttributes).forEach((function(n){var o,c,r=(c=2,function(t){if(Array.isArray(t))return t}(o=n)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,c=!1,r=void 0;try{for(var a,i=t[Symbol.iterator]();!(o=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){c=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(c)throw r}}return n}}(o,c)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];Array.from(t.querySelectorAll(a)).forEach((function(t){i.forEach((function(n){t.hasAttribute(n)&&e.nodes.add(new P(t.getAttributeNode(n)))}))}))}))}},{key:"onElementChange",value:function(t){var e=this;t.forEach((function(t){if("childList"===t.type){var n=Array.from(t.addedNodes),o=Array.from(t.removedNodes);n.length===o.length?o.forEach((function(t,e){if(t.nodeType===Node.TEXT_NODE){var o=n[e];if(X.instances.has(t)&&o.nodeType===Node.TEXT_NODE){var c=X.instances.get(t);c.node=o,X.instances.set(o,c),X.instances.delete(t)}}})):n.forEach((function(t){(function(t,e){do{if(t instanceof Element&&Element.prototype.matches.call(t,"[data-ivrita-disable]"))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})(t)||(t.nodeType===Node.TEXT_NODE&&e.constructor.acceptNodeFilter(t)===NodeFilter.FILTER_ACCEPT?e.nodes.add(new X(t)):t.childNodes.length>0&&e.registerTextNodes(t))}))}}))}},{key:"setFontFeatureSettings",value:function(t){return this.fontFeatureSettings=t,this.elements.forEach((function(e){var n=e.style.fontFeatureSettings.slice().replace("normal","");t?n.includes("titl")||(n&&(n+=", "),n+='"titl"'):n.includes("titl")&&(n=n.replace(/(, )?"?'?titl"?'?/,"")),n||(n="normal"),e.style.fontFeatureSettings=n})),this}}])&&J(e.prototype,n),o&&J(e,o),t}();z.EVENT_MODE_CHANGED="ivrita-mode-changed",z.GENDERS=[0,1,2,3],z.MALE=1,z.FEMALE=2,z.NEUTRAL=3,z.ORIGINAL=0,z.instances=new Map,z.defaultMode=3,"function"==typeof jQuery&&(jQuery.fn.ivrita=function(t){return new z(this,t)})}},e={};function n(o){if(e[o])return e[o].exports;var c=e[o]={exports:{}};return t[o](c,c.exports,n),c.exports}return n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(494)})().default}));
//# sourceMappingURL=ivrita.min.js.map