!function(t,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.Ivrita=c():t.Ivrita=c()}(self,(function(){return(()=>{"use strict";var t={956:(t,c,n)=>{n.d(c,{default:()=>T});var o={ן:"נ",ף:"פ",ך:"כ",ם:"מ",ץ:"צ"},e=Object.keys(o).concat(Object.values(o)),a=Object.keys(o),r=function(t){return Object.keys(o).find((function(c){return o[c]===t}))||t},i="[\\\\/.]",s="[א-ת]",u="[\\\\./—־-]",l="'‎\"”׳״",f="[א-ת".concat(l,"]"),$="[".concat(a,"]"),d="(?=^|$|\b|[^א-ת".concat(l,"?֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ])"),y=[u,"\\[","\\{","\\("].join("|"),h=["יזמ","מומח","ישראל","מצר","אוסטרל","אקדמ","אדריכל","ירושלמ","תל([".concat("—־-","]| )אביב"),"יהוד","ערב","אשכנז","מזרח","רוס","ספרד","סלאב","צרפת","ברב(א?)ר","מלאכ","היפסטר","ס(א?)ח","ח([".concat(l,"])כ"),"משת([".concat(l,"])פ"),"מנכ([".concat(l,"])ל"),"עו([".concat(l,"])ד"),"עו([".concat(l,"])ס"),"רו([".concat(l,"])ח")];function p(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,c){if(t){if("string"==typeof t)return v(t,c);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,c):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,c){(null==c||c>t.length)&&(c=t.length);for(var n=0,o=new Array(c);n<c;n++)o[n]=t[n];return o}var m="׈";const g=[["א".concat(u,"נשים"),"אנשים","נשים"],["א".concat(u,"נשי(?!ם)"),"אנשי","נשות"],["את".concat(i,"ה"),"אתה","את"],["איש".concat(i,"אשת"),"איש","אשת"],["אשת".concat(i,"איש"),"איש","אשת"],["(גבר|איש)".concat(i,"אישה"),"$1","אישה"],["אח".concat(i,"ות").concat(d),"אח","אחות"],["ל(ו|ה)".concat(i,"ל(ו|ה)").concat(d),"לו","לה"],["ב(ן|ת)".concat(i,"ב(ן|ת)").concat(d),"בן","בת"],["ה(ו|י)א".concat(i,"ה(ו|י)א").concat(d),"הוא","היא"],["אנשי".concat(i,"ות").concat(d),"אנשי","נשות"],["מישהו".concat(i,"י").concat(d),"מישהו","מישהי"],["אחד".concat(i,"(אח)?ת").concat(d),"אחד","אחת"],["אחת".concat(i,"(אח)?ד").concat(d),"אחד","אחת"]].concat(p(["רוץ","עוף","שוב","טוס","שוט","קום","שים","ודא","שלח","לחץ","בחר","קרא","לך","קפוץ","שתף","תוכל"].map((function(t){var c,n=t.slice(0,t.length-1),a=t.slice(t.length-1),s="(".concat(a,")");return e.includes(a)&&(s="(".concat(r(a),"|").concat(o[c=a]||c,")")),["".concat(n).concat(s).concat(i,"י").concat(d),"".concat(n).concat(r(a)),"".concat(n).concat(a,"י")]}))),p(h.map((function(t){var c=t;return t.includes("(")&&(c=t.replace(new RegExp("\\(.*?\\)"),"$1")),["".concat(t,"ים").concat(i,"י?ות").concat(d),"".concat(c,"ים"),"".concat(c,"יות")]}))),[["(".concat(d,")(").concat(f,"{0,3})י").concat(i,"ת(").concat(f,"{2,})"),"$1$2י$3","$1$2ת$3"],["(".concat(d,")(").concat(f,"{0,3})ת").concat(i,"י(").concat(f,"{2,})"),"$1$2י$3","$1$2ת$3"],["ו".concat(i,"ה").concat(d),"ו","ה"],["ה".concat(i,"ו").concat(d),"ו","ה"],["(".concat(f,")").concat(i,"ה").concat(d),"$1".concat(m),"$1ה"],["(".concat(f,")ה?").concat(i,"תה").concat(d),"$1ה","$1תה"],["(".concat(f,")יו").concat(i,"י?ה").concat(d),"$1יו","$1יה"],["(".concat(f,")ה").concat(i,"ית").concat(d),"$1ה","$1ית"],["(".concat(f,")י").concat(i,"ות").concat(d),"$1י","$1ות"],["(".concat(f,")ות").concat(i,"י").concat(d),"$1י","$1ות"],["(".concat(f,")").concat(i,"ית").concat(d),"$1".concat(m),"$1ית"],["(".concat(f,")י").concat(i,"תי").concat(d),"$1י","$1תי"]],p(["גננ","מאמנ","מרא","מלא","מתרא","מתרא","רופא"].map((function(t){return["".concat(t,"ים").concat(i,"ות").concat(d),"".concat(t,"ים"),"".concat(t,"ות")]}))),[["(".concat(f,"{4,})נים").concat(i,"י?ות").concat(d),"$1נים","$1ניות"],["(".concat(f,"{4,})טים").concat(i,"י?ות").concat(d),"$1טים","$1טיות"],["(".concat(f,"{4,})אים").concat(i,"י?ות").concat(d),"$1אים","$1איות"],["(י)?ים".concat(i,"?(י)?ות").concat(d),"$1ים","$1$2ות"],["(י)?ות".concat(i,"?י?ים").concat(d),"$1ים","$1ות"],["י".concat(i,"ות").concat(d),"י","ות"],["(".concat(f,")ה").concat(i,"י").concat(d),"$1ה","$1י"],["(".concat(f,")ו(").concat(f,")").concat(i,"י").concat(d),"$1ו$2","$1$2י"],["(".concat(f,")").concat(i,"י").concat(d),"$1".concat(m),"י$1י"],["(".concat(f,")(ה)?").concat(i,"ת").concat(d),"$1$2".concat(m),"$1ת"],["(".concat(f,")ם").concat(i,"?ן").concat(d),"$1ם","$1ן"],["(".concat(f,")ן").concat(i,"?ם").concat(d),"$1ם","$1ן"],["(".concat(f,"+)ו").concat(i,"ת(").concat(f,"+)נה"),"$1ו","ת$2נה"],["(".concat(f,")").concat(i,"נה").concat(d),"$1".concat(m),"$1נה"],["(".concat(f,"+)\\(([ותי]{1,3})\\)([יוהםן]{1,3})").concat(d),"$1$3","$1$2$3"],["(".concat(f,"+)י\\(י\\)(").concat(f,"*)(").concat($,")").concat(d),"$1י$2$3","$1יי$2$3"],["(".concat(f,"+)\\(י\\)י(").concat(f,"*)(").concat($,")").concat(d),"$1י$2$3","$1יי$2$3"],["\\(א\\)נשים".concat(d),"אנשים","נשים"],["(".concat(f,"+)ב\\(ת\\)").concat(d),"$1ב","$1בת"],["\\[([^|]*?)\\|([^|]*?)\\|([^|]*?)\\]","$1","$2","$3"],["\\[([^|]*?)\\|([^|]*?)\\]","$1","$2",!0],["ץ(?=".concat(s,")"),"צ","צ"],["ך(?=".concat(s,")"),"כ","כ"],["ן(?=".concat(s,")"),"נ","נ"],["ם(?=".concat(s,")"),"מ","מ"],["ף(?=".concat(s,")"),"פ","פ"],["([^".concat(l,"]+)צ").concat(m),"$1ץ","$1ץ"],["([^".concat(l,"]+)כ").concat(m),"$1ך","$1ך"],["([^".concat(l,"]+)נ").concat(m),"$1ן","$1ן"],["([^".concat(l,"]+)מ").concat(m),"$1ם","$1ם"],["([^".concat(l,"]+)פ").concat(m),"$1ף","$1ף"],["".concat(m),"",""]]).map((function(t){return t[0]=new RegExp(t[0],"g"),!0===t[3]&&(t[3]="".concat(t[1],"/").concat(t[2])),t}));function b(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,e=!1,a=void 0;try{for(var r,i=t[Symbol.iterator]();!(o=(r=i.next()).done)&&(n.push(r.value),!c||n.length!==c);o=!0);}catch(t){e=!0,a=t}finally{try{o||null==i.return||i.return()}finally{if(e)throw a}}return n}}(t,c)||function(t,c){if(t){if("string"==typeof t)return E(t,c);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,c):void 0}}(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,c){(null==c||c>t.length)&&(c=t.length);for(var n=0,o=new Array(c);n<c;n++)o[n]=t[n];return o}function A(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function j(t,c){for(var n=0;n<c.length;n++){var o=c[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var S=new RegExp(s),I=new RegExp(y),w="__IVRITA_PROTECTED__",N=new RegExp("\\{".concat(w,":(\\d+):").concat(w,"\\}"),"g"),T=function(){function t(){var c=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if(A(this,t),this.relevantNodes=[],this.elements=[],n instanceof NodeList)this.elements=Array.from(n);else if(n instanceof HTMLElement)this.elements=[n];else{if(!("function"==typeof jQuery&&n instanceof jQuery&&"function"==typeof n.toArray))throw new Error("Passed argument is not an HTMLElement. Did you mean: 'document.querySelector(\"".concat(n.toString(),"\")'?"));this.elements=n.toArray()}var o=this.constructor.instances.get(this.elements);if(o)return o;this.constructor.instances.set(this.elements,this),this.elements.forEach((function(t){c.registerTextNodes(t)})),this.setFontFeatureSettings(!0)}var c,n,o;return c=t,o=[{key:"genderize",value:function(t,c,n){var o=this,e=t,a=[];e.includes("{")&&(e=e.replace(/\{(.*?)\}/g,(function(t,c,n){return a[n]=c,"{".concat(w,":").concat(n,":").concat(w,"}")})));var r=t,i=[];return g.forEach((function(t){var a,s=b(t,4),u=s[0],l=s[1],f=s[2],$=s[3];switch(c){case o.FEMALE:a=f;break;case o.MALE:a=l;break;case o.NEUTRAL:default:$&&(a=$)}void 0!==a&&(e=e.replace(u,a)),void 0!==n&&r!==e&&(i.push(u),r=e)})),a.length&&(e=e.replace(N,(function(t,c){var n=parseInt(c,10);return a[n]?a[n]:""}))),void 0!==n&&n(i),e}}],(n=[{key:"destroy",value:function(){var t=this;this.setMode(this.constructor.ORIGINAL),this.setFontFeatureSettings(!1),this.observer&&this.observer.disconnect(),this.elements.forEach((function(c){t.constructor.instances.set(c,null)}))}},{key:"setMode",value:function(){var t=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.NEUTRAL;return this.mode=c,this.relevantNodes.forEach((function(n){var o,e=b(n,2),a=e[0],r=e[1];(o=c===t.constructor.ORIGINAL?r:c!==t.constructor.NEUTRAL||r.includes("{")||r.includes("[")?t.constructor.genderize(r,c):r)!==a.data&&(a.data=o)})),this}},{key:"registerTextNodes",value:function(t){for(var c,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:function(t){return t.textContent.trim().length>0&&S.test(t.textContent)&&I.test(t.textContent)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});c=n.nextNode();)this.relevantNodes.push([c,c.data])}},{key:"setFontFeatureSettings",value:function(t){return this.elements.forEach((function(c){var n=c.style.fontFeatureSettings,o=n.slice();t?n.includes("titl")||(n&&(o+=", "),o+='"titl"'):n.includes("titl")&&(o=n.replace(/(, )?"?'?titl"?'?/,"")),c.style.fontFeatureSettings=o})),this}},{key:"getFontFeatureSettings",value:function(){return this.elements.filter((function(t){return t.style.fontFeatureSettings.includes("titl")})).length}}])&&j(c.prototype,n),o&&j(c,o),t}();T.ORIGINAL=0,T.MALE=1,T.FEMALE=2,T.NEUTRAL=3,T.GENDERS=[T.ORIGINAL,T.MALE,T.FEMALE,T.NEUTRAL],T.instances=new Map,"function"==typeof jQuery&&(jQuery.fn.ivrita=function(t){var c=new T(void 0);return void 0!==t&&c.setMode(t),c})}},c={};function n(o){if(c[o])return c[o].exports;var e=c[o]={exports:{}};return t[o](e,e.exports,n),e.exports}return n.d=(t,c)=>{for(var o in c)n.o(c,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:c[o]})},n.o=(t,c)=>Object.prototype.hasOwnProperty.call(t,c),n(956)})().default}));