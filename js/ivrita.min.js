!function(t,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.Ivrita=c():t.Ivrita=c()}(self,(function(){return(()=>{"use strict";var t={876:(t,c,n)=>{n.d(c,{default:()=>E});var o="[\\\\/.]",a="[א-ת]",e="[\\\\./—־-]",r="'‎\"”׳״",i="[א-ת".concat(r,"]"),s="[ןףךםץ]",u="(?=^|$|\b|[^א-ת".concat(r,"?֐-ֽֿׁ-ׂׄ-ׇׯ-ײשׁ-ﭏ])"),$="׈";const l=[["א".concat(e,"נשים"),"אנשים","נשים"],["א".concat(e,"נשי(?!ם)"),"אנשי","נשות"],["את".concat(o,"ה"),"אתה","את"],["איש".concat(o,"אשת"),"איש","אשת"],["אשת".concat(o,"איש"),"איש","אשת"],["(גבר|איש)".concat(o,"אישה"),"$1","אישה"],["רו(ץ|צ)".concat(o,"י").concat(u),"רוץ","רוצי"],["קו(ם|מ)".concat(o,"י").concat(u),"קום","קומי"],["עו(ף|פ)".concat(o,"י").concat(u),"עוף","עופי"],["שי(ם|מ)".concat(o,"י").concat(u),"שים","שימי"],["ו?ודא".concat(o,"י").concat(u),"ודא","ודאי"],["שלח".concat(o,"י").concat(u),"שלח","שלחי"],["אח".concat(o,"ות").concat(u),"אח","אחות"],["ל(ו|ה)".concat(o,"ל(ו|ה)").concat(u),"לו","לה"],["ב(ן|ת)".concat(o,"ב(ן|ת)").concat(u),"בן","בת"],["ה(ו|י)א".concat(o,"ה(ו|י)א").concat(u),"הוא","היא"],["אנשי".concat(o,"ות").concat(u),"אנשי","נשות"],["מישהו".concat(o,"י").concat(u),"מישהו","מישהי"],["אחד".concat(o,"(אח)?ת").concat(u),"אחד","אחת"],["אחת".concat(o,"(אח)?ד").concat(u),"אחד","אחת"],["יזמים".concat(o,"י?ות").concat(u),"יזמים","יזמיות"],["מומחים".concat(o,"י?ות").concat(u),"מומחים","מומחיות"],["מכונאים".concat(o,"י?ות").concat(u),"מכונאים","מכונאיות"],["ישראלים".concat(o,"י?ות").concat(u),"ישראלים","ישראליות"],["יהודים".concat(o,"י?ות").concat(u),"יהודים","יהודיות"],["ערבים".concat(o,"י?ות").concat(u),"ערבים","ערביות"],["אשכנזים".concat(o,"י?ות").concat(u),"אשכנזים","אשכנזיות"],["מזרחים".concat(o,"י?ות").concat(u),"מזרחים","מזרחיות"],["רוסים".concat(o,"י?ות").concat(u),"רוסים","רוסיות"],["רוסים".concat(o,"י?ות").concat(u),"רוסים","רוסיות"],["ספרדים".concat(o,"י?ות").concat(u),"ספרדים","ספרדיות"],["סלאבים".concat(o,"י?ות").concat(u),"סלאבים","סלאביות"],["צרפתים".concat(o,"י?ות").concat(u),"צרפתים","צרפתיות"],["ברבא?רים".concat(o,"י?ות").concat(u),"ברבא?רים","ברבא?ריות"],["גננים".concat(o,"י?ות").concat(u),"גננים","גננות"],["מלאכים".concat(o,"י?ות").concat(u),"מלאכים","מלאכיות"],["היפסטרים".concat(o,"י?ות").concat(u),"היפסטרים","היפסטריות"],["סא?חים".concat(o,"י?ות").concat(u),"סא?חים","סא?חיות"],["ח[".concat(r,"]כים").concat(o,"י?ות").concat(u),"ח״כים","ח״כיות"],["משת[".concat(r,"]פים").concat(o,"י?ות").concat(u),"משת״פים","משת״פיות"],["(".concat(u,")(").concat(i,"{0,3})י").concat(o,"ת(").concat(i,"{2,})"),"$1$2י$3","$1$2ת$3"],["(".concat(u,")(").concat(i,"{0,3})ת").concat(o,"י(").concat(i,"{2,})"),"$1$2י$3","$1$2ת$3"],["ו".concat(o,"ה").concat(u),"ו","ה"],["ה".concat(o,"ו").concat(u),"ו","ה"],["(".concat(i,")").concat(o,"ה").concat(u),"$1".concat($),"$1ה"],["(".concat(i,")ה?").concat(o,"תה").concat(u),"$1ה","$1תה"],["(".concat(i,")י").concat(o,"תי").concat(u),"$1י","$1תי"],["(".concat(i,")יו").concat(o,"י?ה").concat(u),"$1יו","$1יה"],["(".concat(i,")ה").concat(o,"ית").concat(u),"$1ה","$1ית"],["(".concat(i,")י").concat(o,"ות").concat(u),"$1י","$1ות"],["(".concat(i,")ות").concat(o,"י").concat(u),"$1י","$1ות"],["(".concat(i,")").concat(o,"ית").concat(u),"$1".concat($),"$1ית"],["(".concat(i,"{4,})נים").concat(o,"י?ות").concat(u),"$1נים","$1ניות"],["(".concat(i,"{4,})טים").concat(o,"י?ות").concat(u),"$1טים","$1טיות"],["(".concat(i,"{4,})אים").concat(o,"י?ות").concat(u),"$1אים","$1איות"],["(י)?ים".concat(o,"?(י)?ות").concat(u),"$1ים","$1$2ות"],["(י)?ות".concat(o,"?י?ים").concat(u),"$1ים","$1ות"],["י".concat(o,"ות").concat(u),"י","ות"],["(".concat(i,")ו(").concat(i,")").concat(o,"י").concat(u),"$1ו$2","$1$2י"],["(".concat(i,")ה").concat(o,"י").concat(u),"$1ה","$1י"],["(".concat(s,")").concat(o,"י").concat(u),"$1".concat($),"י$1י"],["(".concat(i,")").concat(o,"י").concat(u),"$1".concat($),"י$1י"],["(".concat(i,")(ה)?").concat(o,"ת").concat(u),"$1$2".concat($),"$1ת"],["(".concat(i,")ם").concat(o,"?ן").concat(u),"$1ם","$1ן"],["(".concat(i,")ן").concat(o,"?ם").concat(u),"$1ם","$1ן"],["(".concat(i,"+)ו").concat(o,"ת(").concat(i,"+)נה"),"$1ו","ת$2נה"],["(".concat(i,")").concat(o,"נה").concat(u),"$1".concat($),"$1נה"],["(".concat(i,"+)\\(([ותי]{1,3})\\)([יוהםן]{1,3})").concat(u),"$1$3","$1$2$3"],["(".concat(i,"+)י\\(י\\)(").concat(i,"*)(").concat(s,")").concat(u),"$1י$2$3","$1יי$2$3"],["(".concat(i,"+)\\(י\\)י(").concat(i,"*)(").concat(s,")").concat(u),"$1י$2$3","$1יי$2$3"],["\\(א\\)נשים".concat(u),"אנשים","נשים"],["(".concat(i,"+)ב\\(ת\\)").concat(u),"$1ב","$1בת"],["\\[([^|]*?)\\|([^|]*?)\\|([^|]*?)\\]","$1","$2","$3"],["\\[([^|]*?)\\|([^|]*?)\\]","$1","$2",!0],["ץ(?=".concat(a,")"),"צ","צ"],["ך(?=".concat(a,")"),"כ","כ"],["ן(?=".concat(a,")"),"נ","נ"],["ם(?=".concat(a,")"),"מ","מ"],["ף(?=".concat(a,")"),"פ","פ"],["([^".concat(r,"]+)צ").concat($),"$1ץ","$1ץ"],["([^".concat(r,"]+)כ").concat($),"$1ך","$1ך"],["([^".concat(r,"]+)נ").concat($),"$1ן","$1ן"],["([^".concat(r,"]+)מ").concat($),"$1ם","$1ם"],["([^".concat(r,"]+)פ").concat($),"$1ף","$1ף"],["".concat($),"",""]].map((function(t){return t[0]=new RegExp(t[0],"g"),!0===t[3]&&(t[3]="".concat(t[1],"/").concat(t[2])),t}));function f(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,a=!1,e=void 0;try{for(var r,i=t[Symbol.iterator]();!(o=(r=i.next()).done)&&(n.push(r.value),!c||n.length!==c);o=!0);}catch(t){a=!0,e=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw e}}return n}}(t,c)||function(t,c){if(t){if("string"==typeof t)return d(t,c);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,c):void 0}}(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,c){(null==c||c>t.length)&&(c=t.length);for(var n=0,o=new Array(c);n<c;n++)o[n]=t[n];return o}function h(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function y(t,c){for(var n=0;n<c.length;n++){var o=c[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v=new RegExp(o),p=new RegExp(a),m="__IVRITA_PROTECTED__",g=new RegExp("\\{".concat(m,":(\\d+):").concat(m,"\\}"),"g"),E=function(){function t(){var c=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if(h(this,t),this.relevantNodes=[],this.elements=[],n instanceof NodeList)this.elements=Array.from(n);else if(n instanceof HTMLElement)this.elements=[n];else{if(!("function"==typeof jQuery&&n instanceof jQuery&&"function"==typeof n.toArray))throw new Error("Passed argument is not an HTMLElement. Did you mean: 'document.querySelector(\"".concat(n.toString(),"\")'?"));this.elements=n.toArray()}var o=this.constructor.instances.get(this.elements);if(o)return o;this.constructor.instances.set(this.elements,this),this.elements.forEach((function(t){c.registerTextNodes(t)})),this.setFontFeatureSettings(!0)}var c,n,o;return c=t,o=[{key:"genderize",value:function(t,c,n){var o=this,a=t,e=[];a.includes("{")&&(a=a.replace(/\{(.*?)\}/g,(function(t,c,n){return e[n]=c,"{".concat(m,":").concat(n,":").concat(m,"}")})));var r=t,i=[];return l.forEach((function(t){var e,s=f(t,4),u=s[0],$=s[1],l=s[2],d=s[3];switch(c){case o.FEMALE:e=l;break;case o.MALE:e=$;break;case o.NEUTRAL:default:d&&(e=d)}void 0!==e&&(a=a.replace(u,e)),void 0!==n&&r!==a&&(i.push(u),r=a)})),e.length&&(a=a.replace(g,(function(t,c){var n=parseInt(c,10);return e[n]?e[n]:""}))),void 0!==n&&n(i),a}}],(n=[{key:"destroy",value:function(){var t=this;this.setMode(this.constructor.ORIGINAL),this.setFontFeatureSettings(!1),this.observer&&this.observer.disconnect(),this.elements.forEach((function(c){t.constructor.instances.set(c,null)}))}},{key:"setMode",value:function(){var t=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.NEUTRAL;this.mode=c,this.relevantNodes.forEach((function(n){var o,a=f(n,2),e=a[0],r=a[1];(o=c===t.constructor.ORIGINAL?r:c!==t.constructor.NEUTRAL||r.includes("{")||r.includes("[")?t.constructor.genderize(r,c):r)!==e.data&&(e.data=o)}))}},{key:"registerTextNodes",value:function(t){for(var c,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:function(t){return t.textContent.trim().length>0&&p.test(t.textContent)&&v.test(t.textContent)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});c=n.nextNode();)this.relevantNodes.push([c,c.data])}},{key:"setFontFeatureSettings",value:function(t){this.elements.forEach((function(c){var n=c.style.fontFeatureSettings,o=n.slice();t?n.includes("titl")||(n&&(o+=", "),o+='"titl"'):n.includes("titl")&&(o=n.replace(/(, )?"?'?titl"?'?/,"")),c.style.fontFeatureSettings=o}))}},{key:"getFontFeatureSettings",value:function(){return this.elements.filter((function(t){return t.style.fontFeatureSettings.includes("titl")})).length}}])&&y(c.prototype,n),o&&y(c,o),t}();E.ORIGINAL=0,E.MALE=1,E.FEMALE=2,E.NEUTRAL=3,E.GENDERS=[E.ORIGINAL,E.MALE,E.FEMALE,E.NEUTRAL],E.instances=new WeakMap,"function"==typeof jQuery&&(jQuery.fn.ivrita=function(){return new E(void 0)})}},c={};function n(o){if(c[o])return c[o].exports;var a=c[o]={exports:{}};return t[o](a,a.exports,n),a.exports}return n.d=(t,c)=>{for(var o in c)n.o(c,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:c[o]})},n.o=(t,c)=>Object.prototype.hasOwnProperty.call(t,c),n(876)})().default}));