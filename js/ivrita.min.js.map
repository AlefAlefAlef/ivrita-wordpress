{"version":3,"sources":["webpack://Ivrita/webpack/universalModuleDefinition","webpack://Ivrita/./src/utils/finals.js","webpack://Ivrita/./src/utils/characters.js","webpack://Ivrita/./src/wordlists.js","webpack://Ivrita/./src/rules.js","webpack://Ivrita/./src/ivrita.js","webpack://Ivrita/./src/textObject.js","webpack://Ivrita/./src/textAttribute.js","webpack://Ivrita/./src/textNode.js","webpack://Ivrita/./src/element.js","webpack://Ivrita/webpack/bootstrap","webpack://Ivrita/webpack/startup","webpack://Ivrita/webpack/runtime/define property getters","webpack://Ivrita/webpack/runtime/hasOwnProperty shorthand"],"names":["root","factory","exports","module","define","amd","self","fins","finnables","Object","keys","concat","values","finals","toFin","notFin","find","key","toNotFin","fin","SEP","HEB","EXTSEP","G","W","FIN","b","B","NCB","SYNTAX","join","custom","pluralsWithExtraYod","M_WORDFIN","M_NOT_WORDFIN","matchAndNormalizeFemale","word","addYod","wordWithoutLastLetter","slice","length","lastLetter","lastLetterMatcher","includes","map","targetWord","replace","RegExp","p","PROTECTED","protectedRegexp","IncompatibleTypeError","Error","TextObject","node","originalText","currentMode","instances","has","get","set","this","getValue","newMode","newVal","gender","doneFunc","genderized","bracedStrings","matched","string","index","rules","replacement","pattern","male","female","neutral","undefined","group","parsedIndex","parseInt","genderize","setValue","value","WeakMap","TextAttribute","attr","Attr","init","TextNode","Text","data","hebrewRegex","ivritaSyntaxRegex","IvritaElement","elem","document","body","mode","nodes","Set","elements","fontFeatureSettings","relavantAttributes","NodeList","Array","from","HTMLElement","jQuery","toArray","constructor","preExistingInstance","registerTextObjects","observer","MutationObserver","onElementChange","bind","forEach","el","observe","childList","subtree","characterData","setMode","defaultMode","instance","NodeFilter","FILTER_ACCEPT","textContent","trim","FILTER_REJECT","nodeType","Node","ELEMENT_NODE","dataset","ivritaDisable","TEXT_NODE","test","FILTER_SKIP","setFontFeatureSettings","disconnect","clear","GENDERS","dispatchModeChangedEvent","dispatchEvent","CustomEvent","EVENT_MODE_CHANGED","bubbles","detail","element","registerTextNodes","registerTextAttributes","currentNode","walk","createTreeWalker","SHOW_ELEMENT","SHOW_TEXT","acceptNode","acceptNodeFilter","nextNode","add","entries","selector","attributes","querySelectorAll","input","attrName","hasAttribute","getAttributeNode","mutationsList","mutation","type","added","addedNodes","removed","removedNodes","oldNode","i","newNode","nodeObj","s","Element","prototype","matches","call","parentElement","parentNode","closest","childNodes","isActive","result","style","MALE","FEMALE","NEUTRAL","ORIGINAL","Map","fn","ivrita","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","o","defineProperty","enumerable","obj","prop","hasOwnProperty"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAgB,OAAID,IAEpBD,EAAa,OAAIC,IARnB,CASGK,MAAM,WACT,M,+DCTO,IAAMC,EAAO,CAClB,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KAGMC,EAAYC,OAAOC,KAAKH,GAAMI,OAAOF,OAAOG,OAAOL,IACnDM,EAASJ,OAAOC,KAAKH,GAErBO,EAAQ,SAACC,GAAD,OAAYN,OAAOC,KAAKH,GAAMS,MAAK,SAACC,GAAD,OAASV,EAAKU,KAASF,MAAWA,GAC7EG,EAAW,SAACC,GAAD,OAAUZ,EAAKY,IAAQA,GCXlCC,EAAM,WACNC,EAAM,QACNC,EAAS,cACTC,EAAI,UAEJC,EAAI,OAAH,OAAUD,EAAV,KACDE,EAAM,IAAH,OAAOZ,EAAP,KAEVa,EAAI,gCACGC,EAAI,MAAH,OAASD,EAAT,KACDE,EAAM,MAAH,OAASF,EAAT,KAEHG,EAAS,CAACP,EAAQ,MAAO,MAAO,MAAO,KAAM,KAAM,OAAQ,QAAQQ,KAAK,KCVxEC,EAAS,CACpB,CAAC,IAAD,OAAKT,EAAL,QAAmB,QAAS,QAC5B,CAAC,IAAD,OAAKA,EAAL,QAAmB,OAAQ,QAC3B,CAAC,KAAD,OAAMF,EAAN,KAAc,MAAO,MACrB,CAAC,MAAD,OAAOA,EAAP,YAAsB,MAAO,OAC7B,CAAC,MAAD,OAAOA,EAAP,OAAiB,MAAO,OACxB,CAAC,YAAD,OAAaA,EAAb,QAAwB,KAAM,QAC9B,CAAC,KAAD,OAAMA,EAAN,aAAcO,GAAK,KAAM,QACzB,CAAC,SAAD,OAAUP,EAAV,iBAAsBO,GAAK,KAAM,MACjC,CAAC,SAAD,OAAUP,EAAV,iBAAsBO,GAAK,KAAM,MACjC,CAAC,UAAD,OAAWP,EAAX,kBAAwBO,GAAK,MAAO,OACpC,CAAC,OAAD,OAAQP,EAAR,aAAgBO,GAAK,OAAQ,QAC7B,CAAC,QAAD,OAASP,EAAT,YAAgBO,GAAK,QAAS,SAC9B,CAAC,MAAD,OAAOP,EAAP,iBAAmBO,GAAK,MAAO,OAC/B,CAAC,MAAD,OAAOP,EAAP,iBAAmBO,GAAK,MAAO,OAC/B,CAAC,WAAD,OAAYP,EAAZ,aAAoBO,GAAK,QAAS,UAClC,CAAC,WAAD,OAAYP,EAAZ,aAAoBO,GAAK,QAAS,UAClC,CAAC,aAAc,MAAO,SAyDXK,EAAsB,CACjC,mBADiC,eAEzBT,EAFyB,qBAG3BA,EAH2B,oBAI3BA,EAJ2B,sBAKzBA,EALyB,uBAMzBA,EANyB,0BAOzBA,EAPyB,sBAQ1BA,EAR0B,yBAS1BA,EAT0B,sBAUzBA,EAVyB,QAWjC,WACA,OACA,KACA,UACA,SACA,SACA,YACA,SACA,OACA,QACA,QACA,iBACA,QACA,SACA,OACA,QACA,aACA,QACA,OACA,aACA,WACA,OACA,OACA,SACA,SACA,UACA,WACA,QACA,aACA,MACA,WACA,SACA,WACA,OACA,SACA,QACA,SACA,QACA,QACA,QACA,QACA,SACA,YACA,QACA,UACA,cACA,QACA,QACA,MACA,WACA,QACA,OACA,OA/DiC,WAgE7BA,EAhE6B,oBAiE7BA,EAjE6B,cAiEtBA,GACX,MACA,UACA,UACA,OACA,SACA,OACA,WACA,QACA,QACA,WACA,UACA,YACA,MACA,OACA,QACA,QACA,SACA,MACA,WACA,QACA,QACA,OACA,QACA,WACA,OACA,OACA,MACA,UACA,OACA,QACA,MACA,QACA,OACA,UACA,OACA,UACA,UACA,OACA,SACA,SACA,OACA,QACA,MACA,MACA,UACA,SACA,QACA,OACA,QACA,OACA,QACA,QACA,QACA,WACA,QACA,aACA,OACA,UACA,OACA,OACA,UACA,SACA,aACA,WACA,UACA,QACA,OACA,OACA,SACA,SACA,QACA,YACA,OACA,UACA,MACA,UACA,SACA,SACA,OACA,OACA,SACA,UACA,SACA,YACA,SACA,OACA,QACA,YACA,YACA,SACA,SACA,QACA,QACA,OACA,QACA,SACA,UACA,QACA,OACA,UACA,MACA,OACA,QACA,SACA,MACA,QACA,MACA,OACA,QACA,MACA,MACA,UACA,SACA,WACA,OACA,aACA,WACA,OACA,SACA,UACA,cACA,UACA,UACA,SACA,UACA,OACA,UACA,SACA,MACA,QACA,MACA,QACA,UACA,QACA,SACA,QACA,OACA,OACA,QACA,QACA,WACA,aACA,WACA,WACA,OACA,UACA,OACA,QACA,WACA,QACA,OACA,OACA,UACA,QACA,OACA,WACA,aACA,MACA,MACA,OACA,MACA,SACA,MACA,MACA,OACA,YACA,QACA,WACA,OACA,SACA,QACA,OACA,UACA,QACA,QACA,OACA,KACA,WACA,QACA,OACA,QACA,OACA,SACA,SACA,SACA,S,6tBCzTF,IAAMU,EAAY,IACZC,EAAgB,IAWhBC,EAA0B,SAACC,EAAMC,GACrC,IAAMC,EAAwBF,EAAKG,MAAM,EAAGH,EAAKI,OAAS,GACpDC,EAAaL,EAAKG,MAAMH,EAAKI,OAAS,GACxCE,EAAoB,IAAH,OAAOD,EAAP,KAIrB,OAHIjC,EAAUmC,SAASF,KACrBC,EAAoB,IAAH,OAAO5B,EAAM2B,GAAb,YAA4BvB,EAASuB,GAArC,MAEZ,CAAC,GAAD,OAAIH,GAAJ,OAA4BI,GAA5B,OAAgDtB,EAAhD,YAAuDO,GAAvD,UAA+DW,GAA/D,OAAuFxB,EAAM2B,IAA7F,UAA+GH,GAA/G,OAAuID,EAAS,IAAM,IAAtJ,OAA2JnB,EAASuB,GAApK,OAGT,QAAe,YAEVV,GAFU,EDPoB,CACjC,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,OACA,OACA,MACA,OACA,MACA,OACA,OACA,OACA,QCnBuBa,KAAI,SAACR,GAAD,OAAUD,EAAwBC,GAAM,OALtD,ED2BmB,CAChC,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OC3BsBQ,KAAI,SAACR,GAAD,OAAUD,EAAwBC,GAAM,OARrD,EAWVJ,EAAoBY,KAAI,SAACR,GAC1B,IAAIS,EAAaT,EAIjB,OAHIA,EAAKO,SAAS,OAChBE,EAAaT,EAAKU,QAAQ,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","file":"ivrita.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ivrita\"] = factory();\n\telse\n\t\troot[\"Ivrita\"] = factory();\n})(self, function() {\nreturn ","/* eslint-disable quote-props */\nexport const fins = {\n  'ן': 'נ',\n  'ף': 'פ',\n  'ך': 'כ',\n  'ם': 'מ',\n  'ץ': 'צ',\n};\n/* eslint-enable quote-props */\nexport const finnables = Object.keys(fins).concat(Object.values(fins));\nexport const finals = Object.keys(fins);\n\nexport const toFin = (notFin) => Object.keys(fins).find((key) => fins[key] === notFin) || notFin;\nexport const toNotFin = (fin) => (fins[fin] || fin);\n","import { finals } from './finals';\n\nexport const SEP = '[\\\\\\\\/.]';\nexport const HEB = '[א-ת]';\nexport const EXTSEP = '[\\\\\\\\./—־-]';\nexport const G = '\\'‎\"”׳״'; // \"Gershayim\"\nexport const MAKAF = '—־-';\nexport const W = `[א-ת${G}]`;\nexport const FIN = `[${finals}]`;\n\nconst b = '^|$|\\b|[^א-ת\\u0590-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C7\\u05EF-\\u05F2\\uFB2A-\\uFB4F]'; // Boundary, like \"\\b\" in regex. All unicode characters which can be part of a hebrew word\nexport const B = `(?=${b})`;\nexport const NCB = `(?:${b})`;\n\nexport const SYNTAX = [EXTSEP, '\\\\[', '\\\\{', '\\\\(', 'םן', 'ןם', 'יםות', 'ותים'].join('|');\n","import {\n  G, SEP, EXTSEP, B,\n} from './utils/characters';\n\nexport const custom = [\n  [`א${EXTSEP}נשים`, 'אנשים', 'נשים'], // א.נשים\n  [`א${EXTSEP}נשות`, 'אנשי', 'נשות'], // א.נשי\n  [`את${SEP}ה`, 'אתה', 'את'], // את/ה\n  [`איש${SEP}(?:אש)?ת`, 'איש', 'אשת'], // איש/אשת, איש/ת\n  [`אשת${SEP}איש`, 'איש', 'אשת'], // אשת/איש\n  [`(גבר|איש)${SEP}אישה`, '$1', 'אישה'], // גבר/אישה, איש/אישה\n  [`אח${SEP}ות${B}`, 'אח', 'אחות'], // אח/ות\n  [`ל(ו|ה)${SEP}ל(ו|ה)${B}`, 'לו', 'לה'], // לו/לה, לה/לו\n  [`ב(ן|ת)${SEP}ב(ן|ת)${B}`, 'בן', 'בת'], // בת/בן, בן/בת\n  [`ה(ו|י)א${SEP}ה(ו|י)א${B}`, 'הוא', 'היא'], // הוא/היא, היא/הוא\n  [`אנשי${SEP}ות${B}`, 'אנשי', 'נשות'], // אנשי/ות\n  [`מישהו${SEP}י${B}`, 'מישהו', 'מישהי'], // מישהו/י\n  [`אחד${SEP}(אח)?ת${B}`, 'אחד', 'אחת'], // אחד/ת, אחד/אחת\n  [`אחת${SEP}(אח)?ד${B}`, 'אחד', 'אחת'], // אחת/ד, אחת/אחד\n  [`יקיר(י?)${SEP}תי${B}`, 'יקירי', 'יקירתי'], // יקירי/תי\n  [`אהוב(י?)${SEP}תי${B}`, 'אהובי', 'אהובתי'], // אהובי/תי\n  ['סב\\\\(ת\\\\)א', 'סבא', 'סבתא'], // סבא/סבתא\n];\n\n// For most verbs (Unless found in *verbsFemaleKeepVav*), we follow the rules of:\n// כתוב/י => Vav before last letter => Vav removed => כתבי\n// else:\n// לך/י => Yod added after original word => לכי\n// However, some verbs need an aditional Yod before their last letter:\n// הקשב => Add Yod before and after Bet => הקשיבי\n// This is the list of words which need that extra Yod:\nexport const verbsFemaleExtraYod = [\n  'האר',\n  'הבא',\n  'הגב',\n  'הדגם',\n  'הדלק',\n  'הוסף',\n  'הועל',\n  'הורד',\n  'הזמן',\n  'הזן',\n  'הכנס',\n  'הלבש',\n  'המלץ',\n  'המשך',\n  'הסר',\n  'הסתר',\n  'הפעל',\n  'הפקד',\n  'הצג',\n  'הקלד',\n  'הקלק',\n  'הקש',\n  'הקשב',\n  'הרגש',\n  'הרם',\n  'הרעף',\n  'השב',\n  'השלם',\n  'השתק',\n  'התמד',\n  'התקן',\n];\n\nexport const verbsFemaleKeepVav = [\n  'קום',\n  'רוץ',\n  'עופ',\n  'שוב',\n  'זוז',\n  'טוס',\n  'שוט',\n  'בוא',\n];\n\n// Most plurals don't need an extra Yod on their female form: מורים->מורות\n// These are the exceptions which need a Yod:\nexport const pluralsWithExtraYod = [\n  '(א|ס)ובי(י?)קטיב', // אוביקטיבי וסוביקטיבי\n  `אחמ([${G}]?)ש`,\n  `ח([${G}])כ`,\n  `מ([${G}])פ`,\n  `מנכ([${G}]?)ל`,\n  `מפא([${G}]?)יניק`,\n  `משת([${G}]?)פ`,\n  `עו([${G}])(ס|ד)`,\n  `רו([${G}])ח`,\n  `רשג([${G}]?)ד`,\n  'א(י?)כפת',\n  'אביב',\n  'אח',\n  'אגרונומ',\n  'אדריכל',\n  'אוטיסט',\n  'אוסטר(ל?)',\n  'אופטימ',\n  'אחרא',\n  'אחיינ',\n  'איטלק',\n  'אינדיבידואליסט',\n  'אירונ',\n  'אירופא',\n  'אכזר',\n  'אלגנט',\n  'אלכוהוליסט',\n  'אלמונ',\n  'אמית',\n  'אמריק(א|נ)',\n  'אנאלפבית',\n  'אנגל',\n  'אנוש',\n  'אנטישמ',\n  'אנליסט',\n  'אנרכיסט',\n  'אסטרולוג',\n  'אסיאת',\n  'אפריק(נ|א)',\n  'אצנ',\n  'אקדמ(א?)',\n  'אקטואל',\n  'אקטיביסט',\n  'אקרא',\n  'ארטיסט',\n  'אשכנז',\n  'אתאיסט',\n  'אתיופ',\n  'בוגדנ',\n  'בולגר',\n  'בטחונ',\n  'ביביסט',\n  'ב(י?)דיונ',\n  'בינונ',\n  'בינלאומ',\n  'בל(א?)גניסט',\n  'בלוגר',\n  'בלונד',\n  'במא',\n  'ברב(א?)ר',\n  'ברונט',\n  'בריט',\n  'ברמנ',\n  `ג${G}ובניק`,\n  `ג${G}ינג${G}`,\n  'גות',\n  'גיטריסט',\n  'גר(א?)פ',\n  'גרמנ',\n  'גרפיקא',\n  'דברנ',\n  'דוקטורנט',\n  'דושבג',\n  'דיאטנ',\n  'דינ(א?)מ',\n  '(י?)הוד',\n  'הי(פ?)סטר',\n  'היפ',\n  'הססנ',\n  'הנדסא',\n  'הרמונ',\n  'וטרינר',\n  'זכא',\n  'חבר(ו?)ת',\n  'חובבנ',\n  'חולמנ',\n  'חושנ',\n  'חילונ',\n  'חי(ו|נ)נ',\n  'חיפא',\n  'חמדנ',\n  'חרד',\n  'חרד(ת?)',\n  'חרמנ',\n  'חשמלא',\n  'טבח',\n  'טבעונ',\n  'טורק',\n  'טיפוגרפ',\n  'טכנא',\n  'טרוריסט',\n  'טרמפיסט',\n  'טרנס',\n  'ידידות',\n  'יוגיסט',\n  'יוונ',\n  'יורקר',\n  'יזמ',\n  'ימא',\n  'ימ(י?)נ',\n  'ירושלמ',\n  'ישראל',\n  'כימא',\n  'כלכלנ',\n  'כרונ',\n  'לבנונ',\n  'לוחמנ',\n  'ליברל',\n  'ליכודניק',\n  'מאסטר',\n  'מוזיק(ל|א)',\n  'מומח',\n  'מזוכיסט',\n  'מזרח',\n  'מחזא',\n  'מטאליסט',\n  'מטרידנ',\n  'מילואימניק',\n  'מיליארדר',\n  'מיליונר',\n  'מכונא',\n  'מלאכ',\n  'מלצר',\n  'מפסידנ',\n  'מצליחנ',\n  'מצפונ',\n  'מקצוע(נ?)',\n  'מרדנ',\n  'מרקסיסט',\n  'נגר',\n  'נובוריש',\n  'נודיסט',\n  'נודניק',\n  'נוצר',\n  'נורא',\n  'נורווג',\n  'נטורופת',\n  'נרקומנ',\n  'ס(א?)דיסט',\n  'ס(א?)ח',\n  'סדרנ',\n  'סהרור',\n  'סוליד(ר?)',\n  'סוציאליסט',\n  'סטודנט',\n  'סטרייט',\n  'סמכות',\n  'סנדלר',\n  'סנוב',\n  'ססגונ',\n  'ספונטנ',\n  'ספורטיב',\n  'ספציפ',\n  'ספרד',\n  'סקסולוג',\n  'סרב',\n  'סרטט',\n  'עירונ',\n  'עיתונא',\n  'עממ',\n  'עניינ',\n  'ענק',\n  'עסיס',\n  'עקרונ',\n  'ערב',\n  'ערס',\n  'פאנקיסט',\n  'פדופיל',\n  'פוליטיקא',\n  'פולנ',\n  'פופול(א?)ר',\n  'פופוליסט',\n  'פחדנ',\n  'פטריוט',\n  'פילוסופ',\n  'פיזיוטרפיסט',\n  'פמיניסט',\n  'פסיכופת',\n  'פסנתרנ',\n  'פציפיסט',\n  'פריק',\n  'פרופסור',\n  'פרסומא',\n  'פקח',\n  'פשיסט',\n  'צבע',\n  'צבעונ',\n  'צי(ו?)נ',\n  'ציבור',\n  'ציפלונ',\n  'צמחונ',\n  'צפונ',\n  'צרפת',\n  'קדמונ',\n  'קוויר',\n  'קומוניסט',\n  'קומיק(ס?)א',\n  'קונדיטור',\n  'קוסמטיקא',\n  'קופא',\n  'קוקסינל',\n  'קטלנ',\n  'קטנונ',\n  'קיבוצניק',\n  'קיצונ',\n  'קלאס',\n  'קלדנ',\n  'קלפטומנ',\n  'קניינ',\n  'קפדנ',\n  'קפיטליסט',\n  'קריקטוריסט',\n  'קצב',\n  'רבנ',\n  'רוחנ',\n  'רוס',\n  'רוקיסט',\n  'רמא',\n  'רפד',\n  'רקדנ',\n  'ש(ו?)ויונ',\n  'שאפתנ',\n  'שוביניסט',\n  'שווד',\n  'שוויצר',\n  'שחיינ',\n  'שחקנ',\n  'שלומיאל',\n  'שמאלנ',\n  'שמנמנ',\n  'שמרנ',\n  'שפ', //*\n  'שק(ר|ד)נ',\n  'שרמנט',\n  'תורכ',\n  'תזונא',\n  'תחמנ',\n  'תסריטא',\n  'תצפיתנ',\n  'תקציבא',\n  'תרבות',\n];\n","import {\n  SEP, NCB, G, W, FIN, B, HEB,\n} from './utils/characters';\n\nimport {\n  finnables, toFin, toNotFin,\n} from './utils/finals';\nimport {\n  custom, verbsFemaleExtraYod, verbsFemaleKeepVav, pluralsWithExtraYod,\n} from './wordlists';\n\n// Marks are used by early rules to specify a position in a text\n// which should be addressed later by later rules.\n// For example, M_WORDFIN marks an artificial end of a word,\n// which was created by a rule (i.e. wasn't the end of the word in the original text)\n// and this ending should be checked for final letters errors (מ=>ם).\nconst M_WORDFIN = '\\u05c8'; // Not a real character\nconst M_NOT_WORDFIN = '\\u05c9'; // Not a real character\n\nconst regexize = (p) => {\n  p[0] = new RegExp(p[0], 'g');\n\n  if (p[3] === true) {\n    p[3] = `${p[1]}/${p[2]}`;\n  }\n  return p;\n};\n\nconst matchAndNormalizeFemale = (word, addYod) => {\n  const wordWithoutLastLetter = word.slice(0, word.length - 1);\n  const lastLetter = word.slice(word.length - 1);\n  let lastLetterMatcher = `(${lastLetter})`;\n  if (finnables.includes(lastLetter)) {\n    lastLetterMatcher = `(${toFin(lastLetter)}|${toNotFin(lastLetter)})`;\n  }\n  return [`${wordWithoutLastLetter}${lastLetterMatcher}${SEP}י${B}`, `${wordWithoutLastLetter}${toFin(lastLetter)}`, `${wordWithoutLastLetter}${addYod ? 'י' : ''}${toNotFin(lastLetter)}י`];\n};\n\nexport default [\n  // Whole Words\n  ...custom,\n\n  // הקשב/י => הקשב, הקשיבי\n  ...verbsFemaleExtraYod.map((word) => matchAndNormalizeFemale(word, true)),\n\n  // קום/י => קום, קומי\n  ...verbsFemaleKeepVav.map((word) => matchAndNormalizeFemale(word, false)),\n\n  // סטודנטים/ות => סטודנטים, סטודנטיות\n  ...pluralsWithExtraYod.map((word) => {\n    let targetWord = word;\n    if (word.includes('(')) { // regex groups\n      targetWord = word.replace(new RegExp('\\\\(.*?\\\\)'), '$2'); // TODO: support multiple groups\n    }\n    return [`(${NCB})${word}ים${SEP}י?ות${B}`, `$1${targetWord}ים`, `$1${targetWord}יות`];\n  }),\n\n  // Beginnings\n  [`(${B})(${W}{0,3})י${SEP}ת(${W}{2,})`, '$1$2י$3', '$1$2ת$3'], // שי/תכתוב\n  [`(${B})(${W}{0,3})ת${SEP}י(${W}{2,})`, '$1$2י$3', '$1$2ת$3'], // שת/יכתוב\n\n  // Endings\n\n  [`ו${SEP}ה${B}`, 'ו', 'ה'], // בגללה/ו\n  [`ה${SEP}ו${B}`, 'ו', 'ה'], // בגללו/ה\n  [`(${W})${SEP}ה${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}ה`], // חרוץ/ה\n  [`(${W})ה?${SEP}תה${B}`, '$1ה', '$1תה'], // בכה/תה, רצ/תה\n  [`(${W})יו${SEP}י?ה${B}`, '$1יו', '$1יה'], // מחקריו/יה\n  [`(${W})ה${SEP}ית${B}`, '$1ה', '$1ית'], // מומחה/ית\n  [`(${W})(ו?)י${SEP}ות${B}`, '$1$2י', '$1ות'], // מומחי/ות, שווי/ות\n  [`(${W})ות${SEP}י${B}`, '$1י', '$1ות'], // מומחות/י\n  [`(${W})${SEP}ית${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}ית`], // סטודנט/ית\n\n  [`(${W})י${SEP}תי${B}`, '$1י', '$1תי'], // יקירי/תי\n\n  [`(${W}{4,})אים${SEP}י?ות${B}`, '$1אים', '$1איות'], // ארגנטינאים/ות\n\n  [`(${W})ווים${SEP}?ות${B}`, '$1ווים', '$1וות'], // שווים/ות\n  [`(${W})וות${SEP}?ים${B}`, '$1ווים', '$1וות'], // שוות/ים\n  [`(${W})(י)?ים${SEP}?(י)?ות${B}`, '$1$2ים', '$1$2$3ות'], // מורים/ות\n  [`(${W})(י)?ות${SEP}י?ים${B}`, '$1$2ים', '$1$2ות'], // מורות/ים\n  [`(${W})י${SEP}ות${B}`, '$1י', '$1ות'], // עורכי/ות\n\n  [`(${W})ה${SEP}י${B}`, '$1ה', '$1י'], // ראה/י\n  [`(${W}+)\\\\(י\\\\)(${W})${SEP}י${B}`, '$1$2', '$1י$2י'], // הפע(י)ל/י\n  [`(${HEB})ו(${W})${SEP}י${B}`, '$1ו$2', `$1$2${M_NOT_WORDFIN}י`], // כתוב/י\n  [`(${W})${SEP}י${B}`, `$1${M_WORDFIN}`, `$1${M_NOT_WORDFIN}י`], // לך/י\n\n  [`(${W})(ה)?${SEP}ת${B}`, `$1$2${M_WORDFIN}`, `$1${M_NOT_WORDFIN}ת`], // נהג/ת, רואה/ת חשבון\n\n  [`(${W})ם${SEP}?ן${B}`, '$1ם', '$1ן'], // אתם/ן\n  [`(${W})ן${SEP}?ם${B}`, '$1ם', '$1ן'], // אתן/ם\n  [`ה(${W}+)י(${W})ו${SEP}נה${B}`, 'ה$1י$2ו', 'ה$1$2נה'], // הלבישו/נה\n  [`(${W}+)ו${SEP}ת(${W}+)נה${B}`, '$1ו', 'ת$2נה'], // יצאו/תצאנה\n  [`ת(${W}+)ו${SEP}נה${B}`, 'ת$1ו', 'ת$1נה'], // תדרכו/נה\n  [`(${W}+)ו${SEP}נה${B}`, '$1ו', '$1נה'], // רקדו/נה\n\n  // Parentheses\n  [`(${W}+)\\\\(([ותי]{1,3})\\\\)([יוהםן]{1,3})${B}`, '$1$3', '$1$2$3'], // מתנגד(ות)יו, מתנגד(ות)יהם\n  [`(${W}+)י\\\\(י\\\\)(${W}*)(${FIN})${B}`, '$1י$2$3', '$1יי$2$3'], // פני(י)ך\n  [`(${W}+)\\\\(י\\\\)י(${W}*)(${FIN})${B}`, '$1י$2$3', '$1יי$2$3'], // פנ(י)יך\n  [`\\\\(א\\\\)נשים${B}`, 'אנשים', 'נשים'], // (א)נשים\n  [`(${W}+)ב\\\\(ת\\\\)${B}`, '$1ב', '$1בת'], // חושב(ת)\n\n  // Special Syntax\n  ['\\\\[([^|]*?)\\\\|([^|]*?)\\\\|([^|]*?)\\\\]', '$1', '$2', '$3'], // [בן|בת|ילד]\n  ['\\\\[([^|]*?)\\\\|([^|]*?)\\\\]', '$1', '$2', true], // [בן|בת]\n\n  // Final Letters fixes\n  [`ץ${M_NOT_WORDFIN}`, 'צ', 'צ'], // חרוץה\n  [`ך${M_NOT_WORDFIN}`, 'כ', 'כ'], // משךי\n  [`ן${M_NOT_WORDFIN}`, 'נ', 'נ'], // השעןי\n  [`ם${M_NOT_WORDFIN}`, 'מ', 'מ'], // יזםית\n  [`ף${M_NOT_WORDFIN}`, 'פ', 'פ'], // פילוסוףית\n\n  [`([^${G}]+)צ${M_WORDFIN}`, '$1ץ', '$1ץ'], // חרוצ\n  [`([^${G}]+)כ${M_WORDFIN}`, '$1ך', '$1ך'], // משוכ\n  [`([^${G}]+)נ${M_WORDFIN}`, '$1ן', '$1ן'], // השענ\n  [`([^${G}]+)מ${M_WORDFIN}`, '$1ם', '$1ם'], // יזמ\n  [`([^${G}]+)פ${M_WORDFIN}`, '$1ף', '$1ף'], // פילוסופ\n\n  // Remove marks\n  [`[${M_WORDFIN}${M_NOT_WORDFIN}]`, '', ''],\n].map(regexize);\n","import rules from './rules';\n\nconst PROTECTED = '__IVRITA_PROTECTED__';\nconst protectedRegexp = new RegExp(`\\\\{${PROTECTED}:(\\\\d+):${PROTECTED}\\\\}`, 'g');\n\nexport const ORIGINAL = 0;\n\nexport const MALE = 1;\n\nexport const FEMALE = 2;\n\nexport const NEUTRAL = 3;\n\nexport const GENDERS = [ORIGINAL, MALE, FEMALE, NEUTRAL];\n\nexport const genderize = (originalText, gender, doneFunc) => {\n  let genderized = originalText;\n  const bracedStrings = [];\n\n  if (genderized.includes('{')) {\n    // Remove braced parts from text and save them aside\n    genderized = genderized.replace(/\\{(.*?)\\}/g, (matched, string, index) => {\n      bracedStrings[index] = string;\n      return `{${PROTECTED}:${index}:${PROTECTED}}`;\n    });\n  }\n\n  let prev = originalText;\n  const used = [];\n  rules.forEach(([pattern, male, female, neutral]) => {\n    let replacement;\n    switch (gender) {\n      case FEMALE:\n        replacement = female;\n        break;\n\n      case MALE:\n        replacement = male;\n        break;\n\n      case NEUTRAL:\n      default:\n        if (neutral) replacement = neutral;\n        break;\n    }\n    if (replacement !== undefined) {\n      genderized = genderized.replace(pattern, replacement);\n    }\n\n    if (typeof doneFunc !== 'undefined' && prev !== genderized) {\n      used.push(pattern);\n      prev = genderized;\n    }\n  });\n\n  if (bracedStrings.length) {\n    // Bring back braced parts\n    genderized = genderized.replace(protectedRegexp, (matched, group) => {\n      const parsedIndex = parseInt(group, 10);\n      if (bracedStrings[parsedIndex]) {\n        return bracedStrings[parsedIndex];\n      }\n      return '';\n    });\n  }\n\n  if (typeof doneFunc !== 'undefined') {\n    doneFunc(used);\n  }\n  return genderized;\n};\n","import { genderize, ORIGINAL, NEUTRAL } from './ivrita';\n\nexport const IncompatibleTypeError = new Error('Incompatible node passed to the node constructor');\n\nexport default class TextObject {\n  originalText = '';\n\n  currentMode = false;\n\n  static instances = new WeakMap();\n\n  constructor(node) {\n    if (TextObject.instances.has(node)) {\n      return TextObject.instances.get(node);\n    }\n\n    TextObject.instances.set(node, this);\n  }\n\n  init() {\n    this.originalText = this.getValue();\n  }\n\n  setMode(newMode) {\n    let newVal;\n    this.currentMode = newMode;\n\n    if (newMode === ORIGINAL) {\n      newVal = this.originalText;\n    } else if (newMode === NEUTRAL && !this.originalText.includes('{') && !this.originalText.includes('[')) {\n      newVal = this.originalText;\n    } else {\n      newVal = genderize(this.originalText, newMode);\n    }\n\n    if (newVal !== this.getValue()) {\n      this.setValue(newVal);\n    }\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newVal) {\n    this.value = newVal;\n  }\n}\n","import TextObject, { IncompatibleTypeError } from './textObject';\n\nexport default class TextAttribute extends TextObject {\n  attr = {};\n\n  constructor(attr) {\n    if (!attr) return false;\n    if (!(attr instanceof Attr)) {\n      throw IncompatibleTypeError;\n    }\n\n    super(attr);\n\n    this.attr = attr;\n\n    if (!this.currentMode) {\n      this.init();\n    }\n  }\n\n  getValue() {\n    return this.attr.value;\n  }\n\n  setValue(newVal) {\n    this.attr.value = newVal;\n  }\n}\n","import TextObject, { IncompatibleTypeError } from './textObject';\n\nexport default class TextNode extends TextObject {\n  node = {};\n\n  constructor(node) {\n    if (!node) return false;\n    if (!(node instanceof Text)) {\n      throw IncompatibleTypeError;\n    }\n\n    super(node);\n\n    this.node = node;\n\n    if (!this.currentMode) {\n      this.init();\n    }\n  }\n\n  getValue() {\n    return this.node.data;\n  }\n\n  setValue(newVal) {\n    this.node.data = newVal;\n  }\n}\n","import {\n  MALE, FEMALE, NEUTRAL, ORIGINAL, GENDERS,\n} from './ivrita';\nimport TextAttribute from './textAttribute';\nimport TextNode from './textNode';\nimport TextObject from './textObject';\nimport { HEB, SYNTAX } from './utils/characters';\n\nconst hebrewRegex = new RegExp(HEB);\nconst ivritaSyntaxRegex = new RegExp(SYNTAX);\n\nexport default class IvritaElement {\n  nodes = new Set();\n\n  elements = [];\n\n  mode;\n\n  fontFeatureSettings;\n\n  relavantAttributes = {\n    'a, img, button, input': ['title'],\n    [`input:not([type=${['submit', 'button', 'checkbox', 'radio', 'hidden', 'image', 'range', 'reset', 'file'].join(']):not([type=')}])`]: ['placeholder'],\n    'input[type=submit], input[type=button], input[type=reset]': ['value'],\n  };\n\n  static EVENT_MODE_CHANGED = 'ivrita-mode-changed';\n\n  static GENDERS = GENDERS;\n\n  static MALE = MALE;\n\n  static FEMALE = FEMALE;\n\n  static NEUTRAL = NEUTRAL;\n\n  static ORIGINAL = ORIGINAL;\n\n  static instances = new Map();\n\n  static defaultMode = NEUTRAL;\n\n  constructor(elem = document.body, mode = null) {\n    if (elem instanceof NodeList) {\n      this.elements = Array.from(elem);\n    } else if (elem instanceof HTMLElement) {\n      this.elements = [elem];\n    } else if (typeof jQuery === 'function' && elem instanceof jQuery && typeof elem.toArray === 'function') {\n      this.elements = elem.toArray();\n    } else {\n      throw new Error('Passed argument is not an HTMLElement.');\n    }\n\n    if (this.elements.length === 1 && this.constructor.instances.has(this.elements[0])) {\n      const preExistingInstance = this.constructor.instances.get(this.elements[0]);\n      preExistingInstance.registerTextObjects(this.elements[0]); // Make sure nodes are registered\n      return preExistingInstance;\n    }\n\n    this.observer = new MutationObserver(this.onElementChange.bind(this));\n    this.elements.forEach((el) => {\n      this.observer.observe(el, {\n        childList: true,\n        subtree: true,\n        characterData: false,\n      });\n      this.constructor.instances.set(el, this);\n      this.registerTextObjects(el);\n    });\n\n    if (typeof mode !== 'undefined') {\n      this.setMode(mode);\n    } else if (this.constructor.defaultMode) {\n      this.setMode(this.constructor.defaultMode);\n    }\n  }\n\n  destroy() {\n    this.setMode(ORIGINAL);\n    this.setFontFeatureSettings(false);\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    this.nodes.clear();\n    this.elements.forEach((el) => {\n      this.constructor.instances.delete(el);\n    });\n  }\n\n  static setDefaultMode(newMode) {\n    this.defaultMode = newMode;\n  }\n\n  setMode(newMode = NEUTRAL) {\n    if (newMode === NEUTRAL) {\n      this.setFontFeatureSettings(true);\n    } else if (this.mode === NEUTRAL) {\n      this.setFontFeatureSettings(false);\n    }\n\n    if (!this.constructor.GENDERS.includes(newMode)) {\n      return this;\n    }\n    this.mode = newMode;\n    this.nodes.forEach((node) => node.setMode(newMode));\n\n    this.dispatchModeChangedEvent(newMode);\n\n    return this;\n  }\n\n  static setMode(newMode) {\n    this.instances.forEach((instance) => instance.setMode(newMode));\n  }\n\n  dispatchModeChangedEvent(mode = this.mode) {\n    this.elements.forEach(\n      (el) => el.dispatchEvent(new CustomEvent(this.constructor.EVENT_MODE_CHANGED,\n        { bubbles: true, detail: { mode } })),\n    );\n  }\n\n  registerTextObjects(element) {\n    this.registerTextNodes(element);\n    this.registerTextAttributes(element);\n  }\n\n  registerTextNodes(element) {\n    let currentNode;\n    const walk = document.createTreeWalker(\n      element,\n      NodeFilter.SHOW_ELEMENT + NodeFilter.SHOW_TEXT,\n      {\n        acceptNode: (node) => (this.constructor.acceptNodeFilter(node)),\n      },\n    );\n\n    // eslint-disable-next-line no-cond-assign\n    while ((currentNode = walk.nextNode())) {\n      this.nodes.add(new TextNode(currentNode));\n    }\n  }\n\n  registerTextAttributes(element) {\n    Object.entries(this.relavantAttributes).forEach(([selector, attributes]) => {\n      Array.from(element.querySelectorAll(selector)).forEach((input) => {\n        attributes.forEach((attrName) => {\n          if (input.hasAttribute(attrName)) {\n            this.nodes.add(new TextAttribute(input.getAttributeNode(attrName)));\n          }\n        });\n      });\n    });\n  }\n\n  static acceptNodeFilter(node) {\n    if (TextObject.instances.has(node)) { // Already indexed, will be pointer to existing node\n      return NodeFilter.FILTER_ACCEPT;\n    }\n\n    if (node.textContent.trim().length <= 0) {\n      return NodeFilter.FILTER_REJECT; // If there's no content, reject all child nodes\n    }\n\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      if (node.dataset.ivritaDisable) {\n        return Node.FILTER_REJECT;\n      }\n    } else if (node.nodeType === Node.TEXT_NODE) {\n      if (hebrewRegex.test(node.textContent) // Test for Hebrew Letters\n      && ivritaSyntaxRegex.test(node.textContent)) {\n        return NodeFilter.FILTER_ACCEPT;\n      }\n    }\n    return NodeFilter.FILTER_SKIP;\n  }\n\n  onElementChange(mutationsList) {\n    const closest = (el, s) => {\n      do {\n        if (el instanceof Element && Element.prototype.matches.call(el, s)) return el;\n        // eslint-disable-next-line no-param-reassign\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n\n    mutationsList.forEach((mutation) => {\n      if (mutation.type === 'childList') {\n        const added = Array.from(mutation.addedNodes);\n        const removed = Array.from(mutation.removedNodes);\n        if (added.length === removed.length) { // Probably just changed, not really removed\n          removed.forEach((oldNode, i) => {\n            if (oldNode.nodeType === Node.TEXT_NODE) {\n              const newNode = added[i];\n              if (TextNode.instances.has(oldNode) && newNode.nodeType === Node.TEXT_NODE) {\n                const nodeObj = TextNode.instances.get(oldNode);\n                nodeObj.node = newNode; // This is dangerous, make sure it makes sense\n                TextNode.instances.set(newNode, nodeObj);\n                TextNode.instances.delete(oldNode);\n              }\n            } // TODO: what about nodes with nested text nodes?\n          });\n        } else {\n          added.forEach((node) => {\n            if (closest(node, '[data-ivrita-disable]')) {\n              return;\n            }\n            if (node.nodeType === Node.TEXT_NODE\n              && this.constructor.acceptNodeFilter(node) === NodeFilter.FILTER_ACCEPT) {\n              this.nodes.add(new TextNode(node));\n            } else if (node.childNodes.length > 0) {\n              this.registerTextNodes(node);\n            }\n          });\n        }\n      }\n    });\n  }\n\n  setFontFeatureSettings(isActive) {\n    this.fontFeatureSettings = isActive;\n    this.elements.forEach((el) => {\n      const originalFFS = el.style.fontFeatureSettings;\n      let result = originalFFS.slice().replace('normal', '');\n\n      if (isActive) {\n        if (!result.includes('titl')) {\n          if (result) { // Only add a space if property exists\n            result += ', ';\n          }\n          result += '\"titl\"';\n        }\n      } else if (result.includes('titl')) {\n        result = result.replace(/(, )?\"?'?titl\"?'?/, '');\n      }\n\n      if (!result) result = 'normal';\n\n      el.style.fontFeatureSettings = result;\n    });\n\n    return this;\n  }\n}\n\nif (typeof jQuery === 'function') {\n  jQuery.fn.ivrita = function ivritajQueryFn(gender) {\n    return new IvritaElement(this, gender);\n  };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(494);\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)"],"sourceRoot":""}